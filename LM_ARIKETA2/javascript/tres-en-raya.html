<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>TRES EN RAYA</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
</head>
<style>
    tr, th {
        border: 1px solid black ;
        padding: 10%;
        margin: 10%;
        background-color: aquamarine;
        
    }
    table{
        width: 30%;
        margin: auto; 
    }
    h1{
        color: darkturquoise;
        text-align: center;
        text-decoration-color: aquamarine;
        text-decoration: underline;

    }
</style>
<body>
    <h1> TRES EN RAYA</h1>
    <table> 
        <tr>
            <th id="c0">
               0 
            </th>
            <th id="c3">
                3
            </th>
            <th id="c6">
                6
            </th>
        </tr>
        <tr>
                <th id="c1">
                    1
                </th>
                <th id="c4">
                4
                </th>
                <th id="c7">
                    7
                </th>
            </tr>
            <tr>
                    <th id="c2">
                        2
                    </th>
                    <th id="c5">
                        5
                    </th>
                    <th id="c8">
                        8
                    </th>
                </tr>
    </table>

<script>
var turno =1 /* jugador 1 empieza a realizar la funcion
0:vacion
1:jugador 1
2:jugador 2 */
var tablero= [
                [0,0,0],
                [0,0,0],  
                [0,0,0]
            ];

function tablero_print(){
    console.log("["+tablero[0,0]+","+tablero[0,1]+","+tablero[0,2]+"]\n["+tablero[1,0]+","+tablero[1,1]+","+tablero[1,2]+"]\n["+tablero[2,0]+","+tablero[2,1]+","+tablero[2,2]+"]");
    //
    //
    document.getElementById("c0").innerHTML=tablero [0,0];
    document.getElementById("c3").innerHTML=tablero [0,1];
    document.getElementById("c6").innerHTML=tablero [0,2];
    document.getElementById("c1").innerHTML=tablero [1,0];
    document.getElementById("c4").innerHTML=tablero [1,1];
    document.getElementById("c7").innerHTML=tablero [1,2];
    document.getElementById("c2").innerHTML=tablero [2,0];
    document.getElementById("c5").innerHTML=tablero [2,1];
    document.getElementById("c8").innerHTML=tablero [2,2];
}

function poner_ficha(x,y){
    if (game_over()){
        console.log("GAME OVER");
    } else {
        // casilla ocupada?
        if (tablero[x][y] != 0) {
            console.log("casilla ocupada");
        } else {
            tablero[x][y] = turno;
            if (turno==1)
                turno=2;
            else
                turno=1;
        }
    }
    // 
    tablero_print();    
}

function ha_ganado(jugador){
    
    if ((tablero[0][0]==jugador && tablero[0][1]==jugador && tablero[0][2]==jugador) || //line1
        (tablero[1][0]==jugador && tablero[1][1]==jugador && tablero[1][2]==jugador) || //line2
        (tablero[2][0]==jugador && tablero[2][1]==jugador && tablero[2][2]==jugador) || //line3
        (tablero[0][0]==jugador && tablero[1][1]==jugador && tablero[2][2]==jugador) || //diagonal1
        (tablero[0][2]==jugador && tablero[1][1]==jugador && tablero[2][0]==jugador) || //diagonal2
        (tablero[0][0]==jugador && tablero[1][0]==jugador && tablero[2][0]==jugador) || //col1
        (tablero[0][1]==jugador && tablero[1][1]==jugador && tablero[2][1]==jugador) || //col2
        (tablero[0][2]==jugador && tablero[1][2]==jugador && tablero[2][2]==jugador)    //col3
    ){
        return true;
    } else {
        return false;
    }
    
}

function todo_ocupado(){
    for (var i=0; i<3; i++)
        for (var j=0; j<3; j++)
            if (tablero[i][j]==0)
                return false;

    return true;
}


function game_over() {
    if (ha_ganado(1) || ha_ganado(2) || todo_ocupado()) {
        return true
    } else {
        return false
    }
}



</script>
    
</body>
</html>
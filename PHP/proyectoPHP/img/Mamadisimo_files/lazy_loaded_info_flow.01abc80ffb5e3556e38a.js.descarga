/*! Copyright (c) 2019 WhatsApp Inc. All Rights Reserved. */
webpackJsonp([132],{babicefcfg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendSetGroupSubject=function(e,t){var n=void 0;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("sendSetGroupSubject: not supported when not build with MD_BACKEND"));n=o.default.changeSubject(e,t).then(function(e){return 200!==e.status?Promise.reject(new a.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate}});return n},t.sendSetGroupDescription=function(e,t,n,i){var c=void 0;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("sendSetGroupDescription: not supported when not build with MD_BACKEND"));c=o.default.setGroupDescription(e,t,n,i).then(function(e){return 200!==e.status?Promise.reject(new a.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate}});return c},t.sendSetGroupProperty=function(e,t,n){var i=void 0;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("sendSetGroupProperty: not supported when not build with MD_BACKEND"));i=o.default.setGroupProperty(e,t,n).then(function(e){return 200!==e.status?Promise.reject(new a.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate}});return i};i(n("eadfaddcj"));var a=n("ddjgcfjicj"),r=i(n("ccaaiecfib")),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},bbgbbhfdaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dayToWeekday=l,t.businessHoursFromConfig=u,t.getCategoryString=function(e){switch(e){case"auto":return l10n.t(234);case"beauty":return l10n.t(235);case"apparel":return l10n.t(236);case"edu":return l10n.t(237);case"entertain":return l10n.t(238);case"event-plan":return l10n.t(239);case"finance":return l10n.t(240);case"grocery":return l10n.t(241);case"govt":return l10n.t(247);case"hotel":return l10n.t(242);case"health":return l10n.t(243);case"nonprofit":return l10n.t(244);case"prof-services":return l10n.t(246);case"retail":return l10n.t(249);case"travel":return l10n.t(250);case"restaurant":return l10n.t(248);default:return l10n.t(245)}},t.getWebsiteLink=function(e){return`https://l.wl.co/l?u=${encodeURIComponent(e)}`},t.getBusinessHours=function(e){var t=e.config,n=(new Date).getDay();return r.DAYS_OF_WEEK.map(function(e,a){var o=(n+a)%r.DAYS_OF_WEEK.length,i=r.DAYS_OF_WEEK[o],c=l(o),s=u(t[i]);return{day:c,hours:s,first:0===a}})};var a=i(n("dgdjiicfdg")),r=n("bechdajic"),o=i(n("bjebjijbfc"));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){return a.default.utc().startOf("day").add(e,"minutes").format(o.default.timestampStrFormat())}function l(e){return a.default.weekdays(e)}function u(e){switch(e&&e.mode){case r.BUSINESS_HOUR_MODES.SPECIFIC_HOURS:return e.hours?e.hours.map(function(e){return e.map(c).join(" - ")}).join("\n"):"";case r.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:return l10n.t(222);case r.BUSINESS_HOUR_MODES.OPEN_24H:return l10n.t(224);default:return l10n.t(223)}}},bbhjjecbjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=O(n("ceffhbhahb")),i=O(n("cabhjigfgc")),c=O(n("fifhbjiec")),l=n("bbgbbhfdaj"),u=n("igiffibee"),s=O(n("ccaaiecfib")),f=O(n("fffdgbfji")),d=O(n("becfabjeeg")),p=O(n("ihfccfgdf")),h=n("ejbdjaifi"),m=O(n("bfdcadbbif")),b=O(n("jgjiiajej")),g=O(n("behbcejhad")),v=O(n("bfbggcdbfb")),E=n("eadfaddcj"),y=O(n("djhbegbdaf")),j=O(n("gbfffciea")),_=O(n("dgjggjiggi")),C=O(n("bidfjbaebi")),M=O(n("fijafegab"));function O(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=a=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={collapsedHours:!0},a.onBusinessHoursClick=function(){a.setState({collapsedHours:!a.state.collapsedHours})},a.onBusinessInfoClick=function(){j.default.openModal(r.createElement(_.default,{contact:a.props.contact}))},S(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.PureComponent),a(t,[{key:"componentDidMount",value:function(){new v.default.ViewBusinessProfile({viewBusinessProfileAction:v.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION,businessProfileJid:this.props.contact.id.toString()}).commit()}},{key:"getBusinessInfoTitle",value:function(){var e=this.props.contact,t=!e.name||e.name===e.verifiedName,n="psa-unverified",a=void 0;switch(e.verifiedLevel){case E.VERIFIED_LEVEL.HIGH:n="psa-verified",t?a=r.createElement(c.default,{className:b.default.verifiedLabel,text:f.default.t(233)}):(a=r.createElement(c.default,{className:b.default.verifiedLabel,text:f.default.t(231)}),a=r.createElement(y.default,{id:232,params:{verified:a,businessName:e.verifiedName}}));break;case E.VERIFIED_LEVEL.LOW:a=t?r.createElement(c.default,{text:f.default.t(229)}):f.default.t(228,{businessName:e.verifiedName});break;case E.VERIFIED_LEVEL.UNKNOWN:a=f.default.t(227)}return r.createElement(k,{icon:n,className:b.default.businessMarker,onClick:this.onBusinessInfoClick},a)}},{key:"getBusinessInfoTitleV2",value:function(){var e=void 0;switch(this.props.contact.verifiedLevel){case E.VERIFIED_LEVEL.HIGH:e=f.default.t(230);break;case E.VERIFIED_LEVEL.LOW:case E.VERIFIED_LEVEL.UNKNOWN:e=f.default.t(227)}return r.createElement(i.default,{a8nText:"business-title",className:b.default.businessTitleText,onClick:this.onBusinessInfoClick},e)}},{key:"getBusinessHours",value:function(e){var t=this,n=(0,l.getBusinessHours)(e).map(function(e,n){var a=e.day,o=e.hours,i=e.first;return!i&&t.state.collapsedHours?null:r.createElement(w,{day:a,key:a,hours:o,first:i,collapsed:t.state.collapsedHours})});return r.createElement(k,{icon:"business-hours",onClick:this.onBusinessHoursClick},n)}},{key:"render",value:function(){var e=void 0;e=s.default.supportsFeature(s.default.F.VNAME_V_2)?this.getBusinessInfoTitleV2():this.getBusinessInfoTitle();var t=void 0,n=void 0,a=void 0,o=void 0,i=void 0,f=void 0,p=void 0,h=void 0,m=void 0,v=this.props.businessProfile;if(v.stale)t=r.createElement("div",{className:b.default.contactBusinessInfoSpinner},r.createElement(d.default,{size:20,stroke:5}));else{n=v.vertical&&v.vertical.canonical?r.createElement(k,{icon:"business-category"},r.createElement(c.default,{selectable:!0,direction:"auto",text:(0,l.getCategoryString)(v.vertical.canonical)})):null,a=v.description?r.createElement(k,{icon:"business-description"},r.createElement(c.default,{selectable:!0,direction:"auto",text:v.description})):null;var E=void 0;if(null!=v.latitude&&null!=v.longitude){var y={height:150},j=v.address?v.address:this.props.contact.name;m=r.createElement("div",{style:y,className:b.default.businessMap},r.createElement(g.default,{lat:v.latitude,lng:v.longitude,name:j,width:565,height:150})),E=(0,u.getMapUrl)(v.latitude,v.longitude,j)}if(v.address&&(E=E||(0,u.getSearchUrl)(v.address),i=r.createElement("div",{className:b.default.address},r.createElement(C.default,{href:E},r.createElement(c.default,{selectable:!0,direction:"auto",text:v.address})))),o=i||m?r.createElement(k,{icon:"business-address"},i,m):null,v.website&&Array.isArray(v.website)&&v.website.length&&(f=v.website.map(function(e,t){var n=(0,l.getWebsiteLink)(e),a=r.createElement(c.default,{selectable:!0,direction:"auto",text:e}),o=r.createElement(C.default,{className:b.default.link,href:n},a);return r.createElement(k,{icon:"business-website",key:t},o)})),v.businessHours&&(p=this.getBusinessHours(v.businessHours)),v.email){var _=r.createElement(c.default,{selectable:!0,direction:"auto",text:v.email}),O=r.createElement(C.default,{className:b.default.link,href:`mailto:${v.email}`},_);h=r.createElement(k,{icon:"business-email",dir:"auto"},O)}}var S=void 0;return(t||o||n||a||p||h||f)&&(S=r.createElement(M.default,{theme:"padding"},r.createElement("div",{className:b.default.contactBusinessInfo},t,o,n,a,p,h,f))),r.createElement(r.Fragment,null,r.createElement(M.default,null,e),S)}}]),t}();P.CONCERNS={contact:["id","verifiedLevel","name","verifiedName"],businessProfile:["address","description","vertical","website","email","stale","latitude","longitude","businessHours"]},P.displayName="BusinessProfile";var w=function(e){var t=e.first?r.createElement("div",{className:b.default.businessHoursChevron,role:"button"},r.createElement(m.default,{className:e.collapsed?"":b.default.flipSvg,display:"inline",name:"chevron-down-alt"})):null;return r.createElement("div",{className:b.default.businessHoursRow},r.createElement("div",{className:b.default.businessHoursDay},r.createElement(c.default,{direction:"auto",text:e.day})),r.createElement("div",{className:b.default.businessHoursHours},r.createElement(c.default,{direction:"auto",text:e.hours})),t)};w.displayName="BusinessHoursRow";var k=function(e){return r.createElement("div",{className:(0,o.default)(b.default.dataRow,e.className),onClick:e.onClick},r.createElement("div",{className:b.default.dataRowIcon},r.createElement(m.default,{name:e.icon})),r.createElement("div",{className:b.default.dataRowText},e.children))};k.displayName="DataRow",t.default=(0,p.default)((0,h.hoc)(P),P.CONCERNS)},bfffgbbdch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("effbcehec")),i=n("dacdidjdfi"),c=m(i),l=m(n("gbfffciea")),u=m(n("biddiiafgd")),s=m(n("gejdcbjjd")),f=m(n("ihfccfgdf")),d=n("ejbdjaifi"),p=n("bheafeifce"),h=m(n("eedjbihej"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=a=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.onMute=function(e){l.default.muteChat((0,p.unproxy)(a.props.chat),e)},a.onUnmute=function(){var e=a.props.chat.isGroup?l10n.t(336):l10n.t(335);l.default.openModal(r.createElement(u.default,{onOK:a.unmute,okText:l10n.t(40),onCancel:function(){return l.default.closeModal()},cancelText:l10n.t(1101)},e))},a.unmute=function(){a.onMute(!1),l.default.closeModal()},b(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.PureComponent),a(t,[{key:"render",value:function(){var e=this,t=this.props.mute.isMuted,n=t?this.onUnmute:function(){e.onMute(!0)},a=r.createElement(c.default,{checked:t?i.CHECKBOX_STATE.CHECKED:i.CHECKBOX_STATE.UNCHECKED,onChange:n}),l=t?l10n.t(1104):l10n.t(1211);return r.createElement(s.default,{a8nText:o.default.key("block-mute"),side:a,onClick:n},r.createElement(h.default,{theme:"title"},l))}}]),t}();g.CONCERNS={chat:["isGroup"],mute:["isMuted"]},g.displayName="MuteRow",t.default=(0,f.default)((0,d.hoc)(g),g.CONCERNS)},bfhjgejice:function(e,t){e.exports={muted:"_14Rn_",body:"_3s5Z_",avatar:"_2vJOg",nameSecondary:"_2IwIk",screenName:"_2he9-",businessVname:"_1WLhk",icon:"lBve6",titleAbout:"_2k1Z5"}},bfigfbdgha:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=p(n("gbfffciea")),o=p(n("fffdgbfji")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),c=p(n("ihfccfgdf")),l=n("ejbdjaifi"),u=p(n("biddiiafgd")),s=p(n("bhdigcjfbj")),f=p(n("eadfaddcj")),d=n("ceiehehagg");function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getInitialSelection=function(){var e=n.props,t=e.settingType,a=e.groupMetadata,r=a.restrict,o=a.announce,i=a.noFrequentlyForwarded;switch(t){case f.default.GROUP_SETTING_TYPE.ANNOUNCEMENT:return!!o;case f.default.GROUP_SETTING_TYPE.RESTRICT:return!!r;case f.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return!!i;default:return!1}},n.onConfirm=function(e){var t=n.props,a=t.chat,o=t.settingType;n.state.activeOption!==n.getInitialSelection()&&(0,d.setGroupProperty)(a,o,!!n.state.activeOption).catch(function(e){return function(){}}),r.default.closeModal()},n.getPopupTitle=function(){switch(n.props.settingType){case f.default.GROUP_SETTING_TYPE.ANNOUNCEMENT:return o.default.t(514);case f.default.GROUP_SETTING_TYPE.RESTRICT:return o.default.t(509);case f.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return o.default.t(511);default:return""}},n.onChange=function(e){var t=e.target;t instanceof HTMLInputElement&&n.setState({activeOption:parseInt(t.value,10)})},n.state={activeOption:+n.getInitialSelection()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),a(t,[{key:"closeModal",value:function(){r.default.closeModal()}},{key:"render",value:function(){var e=this,t=this.state.activeOption,n=(this.props.settingType===f.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED?[{label:o.default.t(510),value:0},{label:o.default.t(512),value:1}]:[{label:o.default.t(507),value:0},{label:o.default.t(513),value:1}]).map(function(n,a){return i.createElement("li",{key:`setting-${a}`},i.createElement("label",{className:s.default.label},i.createElement("input",{type:"radio",className:s.default.input,value:n.value,checked:n.value===t,onChange:e.onChange}),n.label))});return i.createElement(u.default,{title:this.getPopupTitle(),okText:o.default.t(508),onOK:this.onConfirm,onCancel:this.closeModal},i.createElement("form",null,i.createElement("ol",null,n)))}}]),t}();h.CONCERNS={chat:["id"],groupMetadata:["restrict","announce","noFrequentlyForwarded"]},h.displayName="GroupAdminSettingPopup",t.default=(0,c.default)((0,l.hoc)(h),h.CONCERNS)},bhdigcjfbj:function(e,t){e.exports={muted:"_19rAO",label:"lLIkM",input:"_19y4J"}},bhfgibecci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=R(n("dbdfbgehgj")),i=R(n("bjebjijbfc")),c=R(n("gbfffciea")),l=R(n("bjigbaghc")),u=R(n("hdccjfbbg")),s=R(n("dhigahgdjb")),f=R(n("dhhfaeacef")),d=R(n("djcchigfih")),p=R(n("djbhiedbef")),h=n("dajffajabh"),m=R(h),b=R(n("cabhjigfgc")),g=R(n("fijafegab")),v=R(n("ccaaiecfib")),E=R(n("bggeiidigb")),y=R(n("bbhhbdicgc")),j=R(n("eceadcicaf")),_=R(n("bfajcggcdf")),C=R(n("ihfccfgdf")),M=n("ejbdjaifi"),O=n("bheafeifce"),S=R(n("dcjdgceiej")),P=R(n("jccfhaecf")),w=R(n("bfdcadbbif")),k=R(n("eedjbihej")),N=R(n("cbjgbhbhcj")),T=R(n("bfejacaeaj"));function R(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,f=Array(i),d=0;d<i;d++)f[d]=arguments[d];return n=a=A(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),a.flatListController=new E.default,a.onParticipantClick=function(e,t){P.default.equals(l.default.me,t.id)||o.default.find(t.id).then(function(e){c.default.openChatFromUnread(e).then(function(t){t&&c.default.focusChatTextInput(e)})})},a.onClose=function(){a.props.onClose?a.props.onClose():a.context.uim.uie.requestDismiss()},a.onDelete=function(){c.default.deleteOrExitChat((0,O.unproxy)(a.props.chat))},a.renderItem=function(e){var t=e.participant,n=s.default.gadd(t.id);return r.createElement(u.default,{contact:n,theme:"drawer-list",admin:!!t.isAdmin,onClick:a.onParticipantClick,key:t.id.toString(),waitIdle:!0})},A(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.chat.groupMetadata;this.props.listeners.add(e.participants,"add remove sort reset")}},{key:"getData",value:function(){return this.props.chat.groupMetadata.participants.map(function(e){return{itemKey:e.id.toString(),participant:e}})}},{key:"render",value:function(){var e=this.props.chat,t=null;if(this.props.onMediaGallery){var n=r.createElement(w.default,{name:"chevron-right-alt",directional:!0}),a=v.default.supportsFeature(v.default.F.LINK_DOC_GALLERY)?l10n.t(652):l10n.t(647);t=r.createElement(g.default,{title:a,titleOnClick:this.props.onMediaGallery||function(){},subtitle:n,theme:"padding"},r.createElement(_.default,{chat:(0,O.unproxy)(e),mediaMsgs:e.getMediaMsgs()}))}var o=this.props.chat.groupMetadata.participants,c=r.createElement(k.default,{theme:"section-title"},l10n.n(o.length)),l=o.length?r.createElement(g.default,{title:l10n.t(1283),subtitle:c},r.createElement(y.default,{flatListController:this.flatListController,forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem})):null,u=r.createElement(g.default,null,r.createElement(b.default,{a8nText:"li-delete-broadcast",icon:r.createElement(w.default,{name:"delete-danger"}),color:"danger",theme:"list-aligned",onClick:this.onDelete},l10n.t(1137))),s=void 0;e.groupMetadata.creation?(s=i.default.timeStr(e.groupMetadata.creation),s=r.createElement(k.default,{theme:"small",block:!0},l10n.t(1156,{when:s}))):s=null;var E=null;return r.createElement(d.default,{key:"contact-info-modal"},r.createElement(m.default,{type:h.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose},r.createElement(k.default,{theme:"title",block:!0},l10n.t(220)),s),r.createElement(p.default,{flatListControllers:[this.flatListController]},r.createElement("div",{className:N.default.body},r.createElement("div",{className:N.default.photo},r.createElement(f.default,{id:e.id,size:f.default.Size.LARGE})),t,E,l,u)))}}]),t}();I.contextTypes={uim:T.default.instanceOf(S.default)},I.CONCERNS={chat:["id","groupMetadata"]},I.displayName="BroadcastInfoDrawer",t.default=(0,j.default)((0,C.default)((0,M.hoc)(I),I.CONCERNS))},bhghbagiah:function(e,t,n){"use strict";var a=p(n("hhegggegb")),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=p(n("eceadcicaf")),c=n("ejbdjaifi"),l=p(n("gbfffciea")),u=p(n("iibcehaia")),s=p(n("becfabjeeg")),f=n("cicgeajfge"),d=p(n("dgihdjihd"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=n("eadfaddcj"),b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onScroll=function(e){r.handleScroll(e.target)},r.handleScroll=(0,a.default)(function(e){var t=r.props.docMsgs;t.hasDocBefore&&e.scrollTop+m.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&r.queryDocs(t.head())},100),r.onClickMsg=function(e,t){r.props.selectable&&void 0!==t?r.props.onMessageSelect(e,t):l.default.openChatAt(e.chat,e.chat.getSearchContext(e))},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.docMsgs.hasDocBefore&&this.queryDocs()}},{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.docMsgs,"add remove reset"),this.props.listeners.add(this.props.docMsgs,"query_doc_before")}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"queryDocs",value:function(e){var t=this,n=this.props.docMsgs;n.hasDocBefore&&this.props.listeners.uiIdle(function(){n.queryDocs(t.props.chat,e)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.docMsgs,a=t.selectedMessages,r=n.map(function(t){return o.createElement(u.default,{key:t.id.toString(),msg:t,displayType:m.DISP_TYPE.GALLERY,selectable:e.props.selectable,selectedMessages:a,onMessageSelect:e.props.onMessageSelect,onClickMsg:e.onClickMsg})});if(r.reverse(),n.queryDocBefore){if(0===r.length)return o.createElement(f.Loading,null);r.push(o.createElement("div",{className:d.default.spinner,key:"spinner"},o.createElement(s.default,{stroke:6,size:24})))}return 0!==n.length||n.queryDocBefore||n.hasDocBefore?o.createElement("div",{onScroll:this.onScroll,className:d.default.docGallery},r):o.createElement(f.DocMsgs,null)}}]),t}();b.displayName="DocGallery",e.exports=(0,i.default)((0,c.hoc)(b))},bifbiahgch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=E(n("bhfgibecci")),i=E(n("hfjchijff")),c=E(n("cefehjcibf")),l=E(n("bcbahjefec")),u=E(n("ccaaiecfib")),s=E(n("dabdhgiijc")),f=E(n("chjdbchg")),d=E(n("dcabggiiff")),p=n("ebacbhahej"),h=E(n("dcdageegba")),m=E(n("bggcifcgdc")),b=E(n("djicifaabb")),g=E(n("ceibefacih")),v=n("bgjddhffji");function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,c=Array(o),l=0;l<o;l++)c[l]=arguments[l];return n=a=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.onProductDetail=function(e,t){if(u.default.supportsFeature(u.default.F.CATALOG)){var n=a.props.chat,o=r.createElement(m.default,{chat:n,product:e,onEnd:a._end,onBack:a._pop,refreshCarousel:!1,sessionId:t});a.push(o)}},a.onProductCatalog=function(e){if(u.default.supportsFeature(u.default.F.CATALOG)){var t=a.props.chat;(0,v.logCarouselViewMoreClick)(t.id.toString(),e);var n=r.createElement(b.default,{contact:t.contact,onProductDetail:a.onProductDetail,catalogId:t.id,onBack:a._pop,sessionId:e,businessProfile:t.contact.businessProfile});a.push(n)}},a.onStarred=function(){var e=r.createElement(g.default,{chat:a.props.chat,starredMsgs:a.props.chat.getStarredMsgs(),onClose:a._pop});a.push(e)},a.onAdminSetting=function(){var e=a.props.chat,t=r.createElement(d.default,{chat:e,groupMetadata:e.groupMetadata,onClose:a._pop});a.push(t)},a.onContactCard=function(){a.push(r.createElement(i.default,{chat:a.props.chat,onClose:a._pop}))},a.onMediaGallery=function(){var e=r.createElement(h.default,{chat:a.props.chat,onBack:a._pop});a.push(e)},a.onGroupInviteLink=function(){var e=a.props.chat,t=r.createElement(f.default,{chat:a.props.chat,groupMetadata:e.groupMetadata,onBack:a._pop});a.push(t)},a._pop=function(){a.pop()},a._end=function(){a.end(!0)},a.onLiveLocation=function(){var e=r.createElement(p.LiveLocationDrawerLoadable,{chat:a.props.chat,onClose:a._pop});a.push(e)},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),a(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.onStarred,t=this.onMediaGallery,n=this.props.chat;this.props.chat.isGroup?this.push(r.createElement(s.default,{chat:n,showFullGroupDescription:this.props.showFullGroupDescription,groupMetadata:n.groupMetadata,contact:n.contact,profilePicThumb:n.contact.getProfilePicThumb(),onStarred:e,onMediaGallery:t,onAdminSetting:this.onAdminSetting,onGroupInviteLink:this.onGroupInviteLink,onLiveLocation:this.onLiveLocation,onClose:this._pop})):n.isBroadcast?this.push(r.createElement(o.default,{chat:n,contact:n.contact,onStarred:e,onMediaGallery:t,onClose:this._pop})):n.isUser&&this.push(r.createElement(c.default,{contact:n.contact,onStarred:e,onContactCard:this.onContactCard,onMediaGallery:t,onProductCatalog:this.onProductCatalog,onProductDetail:this.onProductDetail,onLiveLocation:this.onLiveLocation,onClose:this._pop}))}}]),t}();t.default=j},biiiigbhdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupSubject=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function e(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,r.genId)();var d=n.trim();if(!d)return Promise.reject(new c.ActionError);if(d===t.contact.name)return Promise.reject(new c.ActionError);var p=(0,u.sendSetGroupSubject)(t.id,d);var h=t.contact.name;var m=new r.ActionType(l10n.t(81));var b=p.then(function(){return new r.ActionType(l10n.t(80,{subject:d}),l10n.t(156),function(){return e(t,h,s)})}).catch(i.ServerStatusCodeError,function(e){if(e.status>=400)return new r.ActionType(l10n.t(79))}).catch(function(n){return l.default.error("models:chat:setSubject dropped")(n),new r.ActionType(l10n.t(79),l10n.t(152),function(){return e(t,d,s)})});o.default.openToast(a.createElement(r.ActionToast,{id:s,initialAction:m,pendingAction:b}));return p.then(function(e){if(!e._duplicate){var n={name:d};return(0,f.updateLocal)(t.contact.id,n).then(function(){t.contact.set(n)})}}).catch(i.ServerStatusCodeError,function(e){})}((0,s.unproxy)(e),t)};var a=p(n("ddhijeejag")),r=n("ccihhdchab"),o=d(n("gbfffciea")),i=n("ddjgcfjicj"),c=p(n("cajijabhgb")),l=d(n("bdiiahhjbe")),u=n("babicefcfg"),s=n("bheafeifce"),f=n("dcjbdhhjge");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},bjjbghfcbd:function(e,t){e.exports={muted:"_2NZ7X",msg:"_2jwrE",text:"_3avGD",bubble:"_1jnqn",author:"_3qTO9",hasSuspiciousLinks:"_2dH21",hasAuthor:"_1SCY2",suspiciousLabel:"VcunG"}},cbdbejjhjd:function(e,t,n){"use strict";var a=b(n("hhegggegb")),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=b(n("gbfffciea")),c=b(n("eadfaddcj")),l=n("cicgeajfge"),u=b(n("deaaffdfff")),s=b(n("eceadcicaf")),f=n("ejbdjaifi"),d=b(n("becfabjeeg")),p=b(n("iibcehaia")),h=n("bheafeifce"),m=b(n("jfaihhdjc"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onNewMsgs=function(e){if(e){var t=[],n=Array.isArray(e)?e:[e];Promise.all(n.map(function(e){return e.getLinks().length&&t.push(e),Promise.resolve()})).then(function(){t.length&&r.props.linkMsgs.add(t)})}},r.onScroll=function(e){r.handleScroll(e.target)},r.handleScroll=(0,a.default)(function(e){var t=r.props.linkMsgs;t.hasLinkBefore&&e.scrollTop+c.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&r.queryLinks(t.head())},100),r.onClickMsg=function(e,t){var n=(0,h.unproxy)(e);r.props.selectable&&void 0!==t?r.props.onMessageSelect(n,t):i.default.openChatAt(n.chat,n.chat.getSearchContext(n))},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.linkMsgs.hasLinkBefore&&this.queryLinks()}},{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.linkMsgs,"add remove reset"),this.props.listeners.add(this.props.linkMsgs,"query_link_before"),this.props.listeners.add(this.props.chat.msgs,"add bulk_add",this.onNewMsgs)}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"queryLinks",value:function(e){var t=this,n=this.props.linkMsgs;n.hasLinkBefore&&this.props.listeners.uiIdle(function(){n.queryLinks(t.props.chat,e)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.linkMsgs,a=t.selectedMessages,r=[];if(n.forEach(function(t){var n=!t.isSentByMe&&t.isGroupMsg;t.getGalleryLinks().forEach(function(i,c){i.href!==t.matchedText&&r.push(o.createElement(u.default,{key:`${t.id.toString()}-${c}`,msg:t,link:i,displayAuthor:n,selectable:e.props.selectable,selectedMessages:a,onMessageSelect:e.props.onMessageSelect,onClickMsg:e.onClickMsg}))}),t.linkPreview&&r.push(o.createElement(p.default,{key:t.id.toString(),msg:t,selectable:e.props.selectable,selectedMessages:a,onMessageSelect:e.props.onMessageSelect,displayType:c.default.DISP_TYPE.GALLERY,onClickMsg:e.onClickMsg}))}),r.reverse(),n.queryLinkBefore){if(0===r.length)return o.createElement(l.Loading,null);r.push(o.createElement("div",{className:m.default.spinner,key:"spinner"},o.createElement(d.default,{stroke:6,size:24})))}return 0!==n.length||n.queryLinkBefore||n.hasLinkBefore?o.createElement("div",{onScroll:this.onScroll,className:m.default.wrapper},r):o.createElement(l.LinkMsgs,null)}}]),t}();v.displayName="LinkGallery",e.exports=(0,s.default)((0,f.hoc)(v))},cbjgbhbhcj:function(e,t){e.exports={muted:"_2us2O",body:"_2f4K6",photo:"_1QnNL"}},ceeafeafie:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=E(n("dhbceejbjg")),i=n("iaibjaeb"),c=E(i),l=E(n("gbfffciea")),u=E(n("eadfaddcj")),s=E(n("fijafegab")),f=E(n("bbhhbdicgc")),d=E(n("eceadcicaf")),p=E(n("fdcfhecbj")),h=E(n("ihfccfgdf")),m=E(n("bfdcadbbif")),b=E(n("eedjbihej")),g=n("hbhjdibhf"),v=n("ejbdjaifi");function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=a=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.commonGroupInitialized=!1,a.state={collapsed:!1},a.onClick=function(e,t){l.default.openChatFromUnread(t).then(function(e){e&&l.default.focusChatTextInput(t)}),a.props.onClose()},a.onShowMore=function(){a.setState({collapsed:!1})},a.renderItem=function(e){var t=e.chat;return r.createElement(c.default,{chat:t,theme:"drawer-list",contact:t.contact,mode:i.Mode.INFO,onClick:a.onClick,key:t.id.toString()})},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props.contact.commonGroups;e&&(this.props.listeners.add(e,"add remove"),this.commonGroupInitialized=!0),(0,g.findCommonGroups)(this.props.contact)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e,t){if(this.props.contact!==e.contact){var n=this.props.contact.commonGroups;n&&this.props.listeners.remove(n,"add remove"),this.commonGroupInitialized=!1}var a=e.contact.commonGroups;a&&(this.setState({collapsed:a.length>u.default.INFO_DRAWER_MAX_ROWS}),this.commonGroupInitialized||(this.props.listeners.add(a,"add remove"),this.commonGroupInitialized=!0))}},{key:"componentWillUnmount",value:function(){var e=this.props.contact.commonGroups;e&&this.commonGroupInitialized&&(this.props.listeners.remove(e,"add remove"),this.commonGroupInitialized=!1)}},{key:"getData",value:function(){var e=this.props.contact.commonGroups;return e.length>u.default.INFO_DRAWER_MAX_ROWS&&this.state.collapsed&&(e=e.slice(0,u.default.INFO_DRAWER_MAX_ROWS)),e.map(function(e){return{itemKey:e.id.toString(),chat:e}})}},{key:"render",value:function(){var e=this.props.contact.commonGroups;if(!e||!e.length)return null;var t=r.createElement(b.default,{theme:"section-title"},l10n.n(e.length)),n=void 0;if(e.length>u.default.INFO_DRAWER_MAX_ROWS&&this.state.collapsed){var a=e.length-u.default.INFO_DRAWER_MAX_ROWS,i=r.createElement(p.default,{theme:"transparent"},r.createElement(m.default,{name:"down",directional:!0}));n=r.createElement(o.default,{image:i,theme:"drawer-list",primary:l10n.t(516,{count:a,_plural:a}),onClick:this.onShowMore})}return r.createElement(s.default,{a8nText:"section-common-groups",title:l10n.t(1204),subtitle:t},r.createElement(f.default,{flatListController:this.props.flatListController,forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem}),n)}}]),t}();j.CONCERNS={contact:["commonGroups"]},j.displayName="CommonGroupsWell",t.default=(0,d.default)((0,h.default)((0,v.hoc)(j),j.CONCERNS))},cefehjcibf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("ejfeeeaeg");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=a,e&&e.__esModule?e:{default:e}).default;var e}})},ceiehehagg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupProperty=function(e,t,n){return function e(t,n,f){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,r.genId)();if(!t.groupMetadata.canSetGroupProperty())return Promise.reject(new l.ActionError);if(!n)return Promise.reject(new l.ActionError);var p=(0,s.sendSetGroupProperty)(t.id,n,f);var h={[i.default.GROUP_SETTING_TYPE.ANNOUNCEMENT]:{true:[l10n.t(282),l10n.t(276)],false:[l10n.t(281),l10n.t(275)]},[i.default.GROUP_SETTING_TYPE.RESTRICT]:{true:[l10n.t(286),l10n.t(280)],false:[l10n.t(285),l10n.t(279)]},[i.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED]:{true:[l10n.t(284),l10n.t(278)],false:[l10n.t(283),l10n.t(277)]}};var m=h[n][f.toString()];var b=new r.ActionType(m[0]);var g=p.then(function(e){return new r.ActionType(m[1])}).catch(c.ServerStatusCodeError,function(e){if(404===e.status)return new r.ActionType(l10n.t(11)+" "+l10n.t(67))}).catch(function(a){return u.default.error("")(a),new r.ActionType(l10n.t(11),l10n.t(152),function(){return e(t,n,f,d)})});o.default.openToast(a.createElement(r.ActionToast,{id:d,initialAction:b,pendingAction:g}));return p.then(function(e){e._duplicate||t.groupMetadata.set(i.default.GROUP_SETTING_TO_METADATA[n],f)}).catch(c.ServerStatusCodeError,function(e){})}((0,f.unproxy)(e),t,n)};var a=p(n("ddhijeejag")),r=n("ccihhdchab"),o=d(n("gbfffciea")),i=d(n("eadfaddcj")),c=n("ddjgcfjicj"),l=p(n("cajijabhgb")),u=d(n("bdiiahhjbe")),s=n("babicefcfg"),f=n("bheafeifce");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},cgfeeffgi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=p(n("gbfffciea")),i=p(n("biddiiafgd")),c=p(n("dhigahgdjb")),l=p(n("fifhbjiec")),u=p(n("bcbahjefec")),s=n("cjcffhicea"),f=p(s),d=n("cgjcdbggeb");function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),f=0;f<u;f++)s[f]=arguments[f];return n=a=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.isGroupParticipant=function(e){return!!a.props.chat.groupMetadata.participants.get(e)},a.customSecondaryText=function(e){return a.props.chat.groupMetadata.participants.get(e)?l10n.t(1375):null},a.contactFilter=function(e){var t=a.props.chat.groupMetadata;return!!c.default.isFilteredContact(e)&&(!t.participants.get(e.id)||l10n.t(1375))},a.confirmAddParticipant=function(e){var t=a.props.chat;a.push(r.createElement(i.default,{onOK:a.onAddParticipant.bind(a,e),okText:l10n.t(1373,{_plural:e.length}),onCancel:a._pop,cancelText:l10n.t(1101)},r.createElement(l.default,{text:a.makeNameEnumeration(e,t.contact.name)})))},a.makeNameEnumeration=function(e,t){var n=e.map(function(e){return e.formattedShortName||e.shortName}).reduce(function(t,n,a){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t),[n,a!==e.length-1&&l10n.t(413)||""])},[]);return l10n.t(315,{participants:n.join(""),subject:t})},a.onAddParticipant=function(e){(0,d.addParticipants)(a.props.chat,e).catch(function(){}),o.default.closeModal()},a._pop=function(){a.pop()},h(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),a(t,[{key:"UNSAFE_componentWillMount",value:function(){this.push(r.createElement(f.default,{onChat:this.confirmAddParticipant,filter:this.contactFilter,title:l10n.t(1373),isDisabled:this.isGroupParticipant,isSelected:this.isGroupParticipant,customSecondaryText:this.customSecondaryText,listType:s.ListType.PARTICIPANT_MANAGE_MODAL}))}}]),t}();t.default=m},cjhacaccbi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("gbfffciea")),i=d(n("biddiiafgd")),c=d(n("dhigahgdjb")),l=d(n("ddbdcagdbi")),u=d(n("fifhbjiec")),s=d(n("bcbahjefec")),f=n("cgjcdbggeb");function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),d=0;d<l;d++)s[d]=arguments[d];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.contactFilter=function(e){var t=a.props.chat.groupMetadata;return!!c.default.isFilteredContact(e)&&(!t.participants.get(e.id)||l10n.t(1375))},a.confirmAddParticipant=function(e){var t=a.onAddParticipant.bind(a,e),n=l10n.t(314,{participant:e.formattedName,subject:a.props.chat.contact.name});a.push(r.createElement(i.default,{onOK:t,okText:l10n.t(1373),onCancel:a._pop,cancelText:l10n.t(1101)},r.createElement(u.default,{text:n})))},a.onAddParticipant=function(e){(0,f.addParticipants)(a.props.chat,[e]).catch(function(){}),o.default.closeModal()},a._pop=function(){a.pop()},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),a(t,[{key:"UNSAFE_componentWillMount",value:function(){this.push(r.createElement(l.default,{title:l10n.t(1373),filter:this.contactFilter,onCancel:this._pop,onSelect:this.confirmAddParticipant}))}}]),t}();t.default=h},daadijaaah:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=b(n("ddbdcagdbi")),i=b(n("ccaaiecfib")),c=b(n("bhhdeihhhf")),l=b(n("caffijjhc")),u=b(n("dbjbhajgfd")),s=b(n("bjigbaghc")),f=b(n("jccfhaecf")),d=b(n("dbdfbgehgj")),p=b(n("gbfffciea")),h=b(n("eceadcicaf")),m=n("ejbdjaifi");function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=a=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={contextMenu:null},a.openChat=function(e){d.default.find(e).then(function(e){p.default.closeModal(),p.default.openChatFromUnread(e)})},a.contextMenu=function(e){return!f.default.equals(s.default.me,e)},a.onParticipantMenu=function(e,t){var n=a.props.chat.groupMetadata.participants,o=n.assertGet(t.id),l=[];if(n.canPromote(o)){var u=a.props.onParticipantPromote.bind(null,o,!1);l.push(r.createElement(c.default,{a8n:"mi-grp-promote-admin",key:"promote",action:u},l10n.t(659)))}if(n.canRemove(o)){var d=a.props.onParticipantRemove.bind(null,o,!1);l.push(r.createElement(c.default,{a8n:"mi-grp-remove-participant",key:"remove",action:d},l10n.t(664)))}if(i.default.supportsFeature(i.default.F.GROUPS_V_3)&&n.canDemote(o)){var p=a.props.onDemoteAdmin.bind(a,o);l.push(r.createElement(c.default,{a8n:"mi-grp-verify-identify",key:"demote-admin",action:p},l10n.t(381)))}f.default.equals(s.default.me,o.id)||l.push(r.createElement(c.default,{key:"message author",action:a.openChat.bind(null,o.contact.id)},l10n.t(673,{author:o.contact.formattedName}))),e.anchor||e.event||e.persist(),a.setState({contextMenu:{contactId:t.id,menu:l,anchor:e.anchor,event:e.anchor?void 0:e}})},a.contextClose=function(){a.setState({contextMenu:null})},a.contextEnabled=function(){return!1},a.cancel=function(){p.default.closeModal()},a.isAdmin=function(e){return a.props.chat.groupMetadata.participants.assertGet(e).isAdmin},a.contactFilter=function(e){return!!a.props.chat.groupMetadata.participants.get(e.id)},g(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat.groupMetadata.participants;this.props.listeners.add(t,"add remove reset",function(){e.forceUpdate()})}},{key:"render",value:function(){var e=void 0;return this.state.contextMenu&&(e=r.createElement(l.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.contextClose},r.createElement(u.default,{contextMenu:this.state.contextMenu}))),r.createElement(r.Fragment,null,r.createElement(o.default,{title:l10n.t(945),filter:this.contactFilter,onCancel:this.cancel,openContextOnClick:!0,contextEnabled:this.contextEnabled,contextMenu:this.contextMenu,onContext:this.onParticipantMenu,showNotifyName:!0,listenForAdminChange:!0,participantCollection:this.props.chat.groupMetadata.participants}),e)}}]),t}();v.displayName="GroupParticipantSearch",t.default=(0,h.default)((0,m.hoc)(v))},dabdhgiijc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=de(n("cajijabhgb")),o=de(n("dbcedfihd")),i=de(n("ddhijeejag")),c=fe(n("effbcehec")),l=fe(n("cjhacaccbi")),u=fe(n("cgfeeffgi")),s=fe(n("dhbceejbjg")),f=fe(n("dbdfbgehgj")),d=fe(n("bjebjijbfc")),p=fe(n("gbfffciea")),h=fe(n("biddiiafgd")),m=fe(n("bjigbaghc")),b=fe(n("eadfaddcj")),g=fe(n("djcchigfih")),v=fe(n("gejdcbjjd")),E=fe(n("djbhiedbef")),y=fe(n("cabhjigfgc")),j=n("dajffajabh"),_=fe(j),C=fe(n("fijafegab")),M=fe(n("bhhdeihhhf")),O=fe(n("fifhbjiec")),S=fe(n("bggeiidigb")),P=n("bbhhbdicgc"),w=fe(P),k=fe(n("dgjddffcfg")),N=fe(n("ccaaiecfib")),T=fe(n("daadijaaah")),R=fe(n("cigbgdjabj")),A=fe(n("eceadcicaf")),I=fe(n("ebdahjichh")),L=fe(n("bdiiahhjbe")),D=fe(n("bfajcggcdf")),x=fe(n("bfffgbbdch")),G=fe(n("fbcdaahdd")),F=fe(n("jbchjhhe")),B=fe(n("cdcaigjjii")),U=fe(n("bfejacaeaj")),W=fe(n("dadhidfcfe")),V=fe(n("fdcfhecbj")),H=fe(n("bfgbdiffgd")),Y=fe(n("ihfccfgdf")),q=fe(n("dhdhbgbhed")),K=fe(n("bfdcadbbif")),X=fe(n("eedjbihej")),z=n("hfhhcchgj"),$=fe(z),Q=n("bfjajhbdf"),J=fe(Q),Z=fe(n("caffijjhc")),ee=fe(n("dbjbhajgfd")),te=fe(n("dcjdgceiej")),ne=fe(n("jccfhaecf")),ae=n("gaifbabbj"),re=n("bbbdgehigj"),oe=n("ejbdjaifi"),ie=n("dcbafbaejf"),ce=n("biiiigbhdf"),le=n("hjbhabfd"),ue=n("cgjcdbggeb"),se=n("bheafeifce");function fe(e){return e&&e.__esModule?e:{default:e}}function de(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var pe=(0,Q.genId)("max_participant_toast"),he=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));me.call(n);var a=n.props,r=a.groupMetadata,o=r.desc,i=r.participants,c=r.pendingParticipants,l=a.showFullGroupDescription;return n.state={pendingSubject:!1,pendingDesc:!1,pendingPhoto:!1,contextMenu:null,name:e.contact.name,groupDesc:o,descTruncated:!l&&!!(o&&o.length>30),participantListCollapsed:i.length>b.default.INFO_DRAWER_MAX_ROWS,pendingParticipantListCollapsed:c.length>b.default.INFO_DRAWER_MAX_ROWS},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props.groupMetadata;N.default.supportsFeature(N.default.F.GROUPS_V_4_JOIN_PERMISSION)&&t.queryGroupV4PendingInvite(),this.props.listeners.add(t.participants,"add remove reset sort change:isAdmin change:isSuperAdmin",function(){e.forceUpdate()}),this.props.listeners.add(t.pendingParticipants,"add remove reset",function(){e.forceUpdate()}),this.props.listeners.add(t,"change:desc",function(){e.updateGroupDescOnModelChange()})}},{key:"getData",value:function(){var e=void 0,t=[],n=[],a=this.props.groupMetadata.participants;a.forEach(function(a){a.contact.isMe?e=a:a.isAdmin?t.push(a):n.push(a)});var r=[];return e&&r.push(e),r=r.concat(t,n),a.length>b.default.INFO_DRAWER_MAX_ROWS&&this.state.participantListCollapsed&&(r=r.slice(0,b.default.INFO_DRAWER_MAX_ROWS)),r.map(function(e){return{itemKey:e.id.toString(),id:e.id}})}},{key:"getPendingParticipantListData",value:function(){var e=this.props.groupMetadata.pendingParticipants.toArray(),t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e));return e.length>b.default.INFO_DRAWER_MAX_ROWS&&this.state.pendingParticipantListCollapsed&&(t=t.slice(0,b.default.INFO_DRAWER_MAX_ROWS)),t.map(function(e){return{itemKey:e.id.toString(),id:e.id}})}},{key:"render",value:function(){var e=this.props.chat,t=this.props.groupMetadata,n=i.createElement(C.default,null,i.createElement(y.default,{a8nText:"li-delete-group",icon:i.createElement(K.default,{name:"exit",directional:!0}),theme:"list-aligned",color:"danger",onClick:this.onExitOrDeleteGroup},e.isReadOnly?l10n.t(1135):l10n.t(1142))),a=void 0;e.isReadOnly||(a=i.createElement(C.default,null,i.createElement(y.default,{a8nText:"li-report-spam",theme:"list-aligned",color:"danger",icon:i.createElement(K.default,{name:"thumbs-down",directional:!0}),onClick:this.onReportSpam},l10n.t(895))));var r=void 0;if(t.participants.canAdd()){var l=i.createElement(V.default,null,i.createElement(K.default,{name:"add-user-light",directional:!0}));r=i.createElement(s.default,{image:l,theme:"drawer-list",primary:l10n.t(1373),onClick:this.openAddGroupParticipantFlow})}var u=void 0;if(t.participants.iAmAdmin()&&this.props.onGroupInviteLink){var f=i.createElement(V.default,null,i.createElement(K.default,{name:"link"}));u=i.createElement(s.default,{image:f,theme:"drawer-list",primary:l10n.t(488),onClick:this.props.onGroupInviteLink})}var p=void 0;if(t.participants.length>b.default.INFO_DRAWER_MAX_ROWS&&this.state.participantListCollapsed){var h=t.participants.length-b.default.INFO_DRAWER_MAX_ROWS,m=i.createElement(V.default,{theme:"transparent"},i.createElement(K.default,{name:"down",directional:!0}));p=i.createElement(s.default,{image:m,theme:"drawer-list",primary:l10n.t(516,{count:h,_plural:h}),onClick:this.onShowMore})}var M=void 0;if(t.pendingParticipants.length>b.default.INFO_DRAWER_MAX_ROWS&&this.state.pendingParticipantListCollapsed){var O=t.pendingParticipants.length-b.default.INFO_DRAWER_MAX_ROWS,S=i.createElement(V.default,{theme:"transparent"},i.createElement(K.default,{name:"down",directional:!0}));M=i.createElement(s.default,{image:S,theme:"drawer-list",primary:l10n.t(516,{count:O,_plural:O}),onClick:this.onShowMorePendingParticipants})}var P=void 0;t.pendingParticipants.length>0&&(P=i.createElement(w.default,{flatListController:this.pendingParticipantFlatListController,forceConsistentRenderCount:!1,data:this.getPendingParticipantListData(),renderItem:this.renderPendingParticipantItem}));var k=void 0,T=H.default.restrictGroups||H.default.announceGroups;if(t.participants.iAmAdmin()&&N.default.supportsFeature(N.default.F.GROUPS_V_3)&&T){var A=i.createElement(K.default,{name:"chevron-right-alt",directional:!0});k=i.createElement(v.default,{onClick:this.props.onAdminSetting,side:A},i.createElement(X.default,{theme:"title"},l10n.t(515)))}var L=i.createElement(K.default,{name:"search"}),G=t.participants.length?i.createElement(C.default,{a8nText:"section-participants",title:l10n.t(1237,{count:t.participants.length,_plural:t.participants.length}),titleOnClick:N.default.supportsFeature(N.default.F.GROUPS_V_3)?this.openParticpantSearch:void 0,subtitle:N.default.supportsFeature(N.default.F.GROUPS_V_3)?L:void 0},r,u,i.createElement(w.default,{flatListController:this.participantFlatListController,forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem}),p):null,U=void 0;t.participants.iAmAdmin()&&t.pendingParticipants.length>0&&(U=i.createElement(C.default,{a8nText:"section-participants",title:l10n.t(520,{number:t.pendingParticipants.length})},P,M));var W=null;if(this.props.onMediaGallery){var Y=this.props.onMediaGallery,Q=i.createElement(K.default,{name:"chevron-right-alt",directional:!0}),J=N.default.supportsFeature(N.default.F.LINK_DOC_GALLERY)?l10n.t(652):l10n.t(647);W=i.createElement(C.default,{a8nText:"section-media",title:J,titleOnClick:Y,subtitle:Q,theme:"padding"},i.createElement(D.default,{chat:(0,se.unproxy)(e),mediaMsgs:e.getMediaMsgs()}))}var te=this.props.contact.profilePicThumb,ne=B.default.GROUP,re=e.isReadOnly||!te.canDelete()&&!te.canSet(),oe=i.createElement("div",{className:q.default.avatar},i.createElement(F.default,{type:ne,id:this.props.contact.id,attachToChat:!0,pending:this.state.pendingPhoto,startImage:this.props.profilePicThumb.imgFull,readOnly:re,onImageSet:this.onImageSet})),ie=null;this.props.groupMetadata.creation&&(ie=i.createElement("div",{"data-a8n":c.default.key("group-created-time"),className:q.default.nameSecondary},i.createElement(X.default,{theme:"muted"},l10n.t(1156,{when:d.default.relativeDateAndTimeStr(this.props.groupMetadata.creation)}))));var ce=null;N.default.supportsFeature(N.default.F.LIVE_LOCATIONS)&&(ce=i.createElement(I.default,{chat:e,onClick:this.props.onLiveLocation}));var le=e.mute.canMute()?i.createElement(x.default,{chat:e,mute:e.mute}):null,ue=null;if(this.props.onStarred){var fe=i.createElement(K.default,{name:"chevron-right-alt",directional:!0});ue=i.createElement(v.default,{side:fe,onClick:this.props.onStarred},i.createElement(X.default,{theme:"title"},l10n.t(291)))}var de=void 0;this.state.contextMenu&&(de=i.createElement(Z.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.contextClose},i.createElement(ee.default,{contextMenu:this.state.contextMenu})));var pe=null;(le||ue)&&(pe=i.createElement(C.default,null,le,ue,null,k));var he=void 0;if(N.default.supportsFeature(N.default.F.GROUPS_V_3)&&H.default.groupDescLength>0){var me=this.state.groupDesc||"",be={textLimit:this.state.descTruncated?b.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH:1/0,readMoreText:l10n.t(878),onReadMore:this.onDescriptionReadMore,formatters:this.props.chat.isTrusted()?ae.Configuration.TrustedGroupDesc({links:o.findLinks(me)}):ae.Configuration.UntrustedGroupDesc()};he=i.createElement(C.default,{theme:"group-desc-padding",title:l10n.t(474)},i.createElement("div",{className:q.default.description},i.createElement($.default,{value:me,emptyValuePlaceholder:l10n.t(165),renderEmojiTextInLockMode:be,editable:this.canEditGroupDescription(),pending:this.state.pendingDesc,showRemaining:!0,maxLength:H.default.groupDescLength,onChange:this.onGroupDescChange,onSave:this.onSetDescription,onCancel:this.onCancelDesc,multiline:!0,editRestrictionInfo:t.restrict?this.showEditRestrictionInfo:void 0,supportsEmoji:!0,lockable:!0,lowProfile:!0,customStyleThemes:[z.TextInputCustomStyleThemes.groupInfoName],theme:"small"})))}return i.createElement(g.default,{key:"contact-info-modal"},i.createElement(_.default,{title:l10n.t(1165),type:j.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),i.createElement(E.default,{flatListControllers:[this.pendingParticipantFlatListController,this.participantFlatListController]},i.createElement("div",{className:q.default.body},i.createElement(C.default,{theme:"padding-large"},oe,i.createElement($.default,{value:this.state.name||"",editable:t.canSetSubject(),pending:this.state.pendingSubject,showRemaining:!0,validate:this.validateSubject,maxLength:H.default.maxSubject,onChange:this.onSubjectChange,onSave:this.onSetSubject,onError:this.onSetSubjectError,onCancel:this.onCancelSubject,editRestrictionInfo:t.restrict?this.showEditRestrictionInfo:void 0,supportsEmoji:!0,lockable:!0,lowProfile:!0,theme:"large",customStyleThemes:[z.TextInputCustomStyleThemes.groupInfoName]}),ie,i.createElement(R.default,{labels:e.labels})),he,ce,W,pe,null,G,U,n,a)),de)}}]),t}();he.contextTypes={uim:U.default.instanceOf(te.default)},he.CONCERNS={chat:["isReadOnly","mute","id","pendingAction","liveLocation","labels"],groupMetadata:["desc","participants","pendingParticipants","creation","restrict","announce"],contact:["name","id","profilePicThumb","pendingAction"],profilePicThumb:["imgFull"]};var me=function(){var e=this;this.participantFlatListController=new S.default,this.pendingParticipantFlatListController=new S.default,this.updateGroupDescOnModelChange=function(){e.props.groupMetadata&&e.setState({groupDesc:e.props.groupMetadata.desc})},this.onImageSet=function(t,n){var a=e.props.profilePicThumb;e.setState({pendingPhoto:!0});(t&&n?(0,re.setProfilePic)(a,t,n):(0,re.deleteProfilePic)(a)).then(function(){e.setState({pendingPhoto:!1})}).catch(r.Unmount,function(){})},this.onParticipantClick=function(e,t){ne.default.equals(m.default.me,t.id)||f.default.find(t.id).then(function(e){p.default.openChatFromUnread(e).then(function(t){t&&p.default.focusChatTextInput(e)})})},this.menuEnabled=function(t){var n=e.props.groupMetadata.participants,a=n.get(t.id);return!!a&&(n.canPromote(a)||n.canRemove(a)||n.canVerifyIdentity(a))},this.onDemoteAdmin=function(t){t.contact.pendingAction++,(0,ue.demoteParticipants)(e.props.chat,[t]).then(function(){t.contact.pendingAction--}),e.setState({contextMenu:null})},this.onParticipantMenu=function(t,n){var a=e.props.groupMetadata.participants,r=a.assertGet(n.id);if(e.menuEnabled(n)){var o=[];if(a.canPromote(r)){var c=e.confirmParticipantPromote.bind(e,r);o.push(i.createElement(M.default,{a8n:"mi-grp-promote-admin",key:"promote",action:c},l10n.t(659)))}if(a.canRemove(r)){var l=e.confirmParticipantRemove.bind(e,r);o.push(i.createElement(M.default,{a8n:"mi-grp-remove-participant",key:"remove",action:l},l10n.t(664)))}if(N.default.supportsFeature(N.default.F.GROUPS_V_3)&&a.canDemote(r)){var u=e.onDemoteAdmin.bind(e,r);o.push(i.createElement(M.default,{a8n:"mi-grp-verify-identify",key:"demote-admin",action:u},l10n.t(381)))}t.event&&t.event.persist(),e.setState({contextMenu:{contactId:n.id,menu:o,anchor:t.anchor,event:t.event}})}},this.contextClose=function(){e.setState({contextMenu:null})},this.confirmParticipantRemove=function(t){var n=e.onParticipantRemove.bind(e,t,!0),a=l10n.t(326,{participant:t.contact.formattedName,subject:e.props.contact.name});p.default.openModal(i.createElement(h.default,{onOK:n,okText:l10n.t(880),onCancel:function(){return p.default.closeModal()},cancelText:l10n.t(1101)},i.createElement(O.default,{text:a})))},this.onParticipantRemove=function(t,n){t.contact.pendingAction++,(0,ue.removeParticipants)(e.props.chat,[t]).then(function(){t.contact.pendingAction--}),n&&p.default.closeModal()},this.confirmParticipantPromote=function(t){var n=e.onParticipantPromote.bind(e,t,!0),a=l10n.t(325,{participant:t.contact.formattedName,subject:e.props.contact.name});p.default.openModal(i.createElement(h.default,{onOK:n,okText:l10n.t(659),onCancel:function(){return p.default.closeModal()},cancelText:l10n.t(1101)},i.createElement(O.default,{text:a})))},this.onParticipantPromote=function(t,n){t.contact.pendingAction++,(0,ue.promoteParticipants)(e.props.chat,[t]).then(function(){t.contact.pendingAction--}),n&&p.default.closeModal()},this.openAddGroupParticipantFlow=function(){var t=e.props.chat;if(e.props.groupMetadata.participants.length>=H.default.maxParticipants){var n=l10n.t(53,{max:H.default.maxParticipants});p.default.openToast(i.createElement(J.default,{msg:n,id:pe}))}else{var a=N.default.supportsFeature(N.default.F.GROUPS_V_3)?i.createElement(u.default,{chat:(0,se.unproxy)(t),pushTransition:"none",popTransition:"none"}):i.createElement(l.default,{chat:(0,se.unproxy)(t),pushTransition:"none",popTransition:"none"});p.default.openModal(a,{transition:"modal-flow"})}},this.openParticpantSearch=function(){p.default.openModal(i.createElement(T.default,{chat:(0,se.unproxy)(e.props.chat),onParticipantPromote:e.onParticipantPromote,onParticipantRemove:e.onParticipantRemove,onDemoteAdmin:e.onDemoteAdmin}),{transition:"modal-flow"})},this.onClose=function(){e.props.onClose?e.props.onClose():e.context.uim.uie.requestDismiss()},this.onExitOrDeleteGroup=function(){p.default.deleteOrExitChat(e.props.chat)},this.onSubjectChange=function(t){e.setState({name:t})},this.onGroupDescChange=function(t){e.setState({groupDesc:t})},this.validateSubject=function(e){return!(!e||!e.trim())},this.onSetSubjectError=function(){p.default.openModal(i.createElement(h.default,{onOK:function(){return p.default.closeModal()},okText:l10n.t(1235)},l10n.t(82)))},this.onSetSubject=function(t){var n=e.props.chat;if(e.props.groupMetadata.canSetSubject()){var a=k.default.emojify(e.state.name||"");if(a===e.props.contact.name)return e.setState({name:a});e.setState({pendingSubject:!0}),(0,ce.setGroupSubject)(n,a).then(function(){e.setState({name:e.props.contact.name,pendingSubject:!1})}).catch(r.Unmount,function(){}).catch(function(t){L.default.error("group_info_drawer:onSetSubject failed")(t),e.setState({name:e.props.contact.name,pendingSubject:!1})})}},this.onSetDescription=function(t){var n=e.props,a=n.chat,o=n.groupMetadata;if(o.canSetDescription()){var i=e.state.groupDesc||"",c=i.match(/\r\n/gm)?"\r\n":"\n",l=new RegExp(`^(${c}{2,})([^\n])`,"gm");i=i.replace(l,`${c}$2`);var u=k.default.emojify(i||"");if(u===o.desc)return e.setState({groupDesc:u});e.setState({pendingDesc:!0}),(0,le.setGroupDesc)(a,u).then(function(){e.setState({groupDesc:o.desc,pendingDesc:!1})}).catch(r.Unmount,function(){}).catch(function(t){L.default.error("group_info_drawer:onSetDescription failed")(t),e.setState({groupDesc:e.props.groupMetadata.desc,pendingDesc:!1})})}},this.onCancelSubject=function(){e.setState({name:e.props.contact.name})},this.onCancelDesc=function(){e.setState({groupDesc:e.props.groupMetadata.desc})},this.onShowMore=function(){e.setState({participantListCollapsed:!1})},this.onShowMorePendingParticipants=function(){e.setState({pendingParticipantListCollapsed:!1})},this.renderItem=function(t){var n=t.id,a=e.props.groupMetadata.participants.get(n);if(!a)throw new P.UnknownDataError(t);var r=a.contact,o=!!e.state.contextMenu&&ne.default.equals(r.id,e.state.contextMenu.contactId);return i.createElement(G.default,{contact:r,participant:a,key:a.id.toString(),onClick:e.onParticipantClick,contextEnabled:e.menuEnabled.bind(e,r),contextMenu:o,onContext:function(t){return e.onParticipantMenu(t,r)},showNotifyName:!0,waitIdle:!0})},this.onReportSpam=function(){p.default.openModal(i.createElement(W.default,{isGroupChat:!0,onReport:e.reportSpam,onReportExitClear:e.reportSpamExitClear,onCancel:function(){return p.default.closeModal()}}))},this.reportSpam=function(){(0,ie.sendSpamReport)(e.props.chat),p.default.closeModal()},this.reportSpamExitClear=function(){(0,ie.sendSpamExitClear)(e.props.chat),p.default.closeModal()},this.canEditGroupDescription=function(){var t=e.props.groupMetadata;return t.participants.iAmAdmin()||!t.restrict},this.onDescriptionReadMore=function(){e.setState({descTruncated:!1})},this.showEditRestrictionInfo=function(){p.default.openModal(i.createElement(h.default,{onOK:function(){return p.default.closeModal()},okText:l10n.t(1235)},l10n.t(826)))},this.revokeGrpV4Invite=function(t){p.default.openModal(i.createElement(h.default,{onOK:function(){p.default.closeModal(),e.props.groupMetadata.revokeGroupV4AddInvite([t.id.toString()]).then(function(){p.default.openToast(i.createElement(J.default,{msg:l10n.t(1202),id:(0,Q.genId)()}))})},okText:l10n.t(1284),onCancel:function(){return p.default.closeModal()},cancelText:l10n.t(1101)},i.createElement(O.default,{text:l10n.t(527,{participant:t.contact.formattedName})})))},this.renderPendingParticipantItem=function(t){var n=t.id,a=e.props.groupMetadata.pendingParticipants.get(n);if(!a)throw new P.UnknownDataError(t);var r=a.contact;return i.createElement(G.default,{contact:r,participant:a,key:a.id.toString(),contextEnabled:function(){return!0},contextMenu:!0,onContext:function(t){return e.onPendingParticipantMenu(t,r)},showNotifyName:!0,isPendingParticipant:!0,waitIdle:!0})},this.onPendingParticipantMenu=function(t,n){var a=e.props.groupMetadata.pendingParticipants.assertGet(n.id),r=[i.createElement(M.default,{a8n:"mi-grp-promote-admin",key:"promote",action:e.revokeGrpV4Invite.bind(e,a)},l10n.t(926))];t.event&&t.event.persist(),e.setState({contextMenu:{contactId:n.id,menu:r,anchor:t.anchor,event:t.event}})}};he.displayName="GroupInfoDrawer",t.default=(0,A.default)((0,Y.default)((0,oe.hoc)(he),he.CONCERNS))},dcabggiiff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=N(n("jejjchagi")),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=N(n("bjigbaghc")),c=N(n("eadfaddcj")),l=N(n("gbfffciea")),u=N(n("djcchigfih")),s=n("dajffajabh"),f=N(s),d=N(n("djbhiedbef")),p=N(n("ccaaiecfib")),h=N(n("dcjdgceiej")),m=N(n("fffdgbfji")),b=N(n("eedjbihej")),g=N(n("bfejacaeaj")),v=N(n("bfgbdiffgd")),E=N(n("jccfhaecf")),y=N(n("eceadcicaf")),j=N(n("ihfccfgdf")),_=n("ejbdjaifi"),C=N(n("gecdhggfj")),M=N(n("gejdcbjjd")),O=N(n("fijafegab")),S=N(n("bfigfbdgha")),P=n("cjcffhicea"),w=N(P),k=n("cgjcdbggeb");function N(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var R=function(e){var t=e.isRestricted,n=e.onClick;return o.createElement(M.default,{onClick:n,multiline:!0},o.createElement("div",{className:C.default.header},o.createElement(b.default,{theme:"title"},m.default.t(509))),o.createElement(b.default,{theme:"muted",block:!0},t?m.default.t(513):m.default.t(507)))};R.displayName="RestrictedSettingDrawerBlock";var A=function(e){var t=e.isAnnouncement,n=e.onClick;return o.createElement(M.default,{onClick:n,multiline:!0},o.createElement("div",{className:C.default.header},o.createElement(b.default,{theme:"title"},m.default.t(514))),o.createElement(b.default,{theme:"muted",block:!0},t?m.default.t(513):m.default.t(507)))};A.displayName="AnnouncementSettingDrawerBlock";var I=function(e){var t=e.isNoFrequentlyForwarded,n=e.onClick;return o.createElement(M.default,{onClick:n,multiline:!0},o.createElement("div",{className:C.default.header},o.createElement(b.default,{theme:"title"},m.default.t(511))),o.createElement(b.default,{theme:"muted",block:!0},t?m.default.t(512):m.default.t(510)))};I.displayName="NoFrequentlyForwardedDrawerBlock";var L=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),f=0;f<u;f++)s[f]=arguments[f];return n=r=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.openSettingModal=function(e){var t=r.props,n=t.chat,a=t.groupMetadata;l.default.openModal(o.createElement(S.default,{settingType:e,chat:n,groupMetadata:a}),{transition:"modal",uim:r.context.uim})},r.openAnnouncementSettingModal=function(){r.openSettingModal(c.default.GROUP_SETTING_TYPE.ANNOUNCEMENT)},r.openRestrictedSettingModal=function(){r.openSettingModal(c.default.GROUP_SETTING_TYPE.RESTRICT)},r.openNoFrequentlyForwardedSettingModal=function(){r.openSettingModal(c.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED)},r.getCurrentAdmins=function(){return r.props.groupMetadata.participants.filter(function(e){return e.isAdmin}).map(function(e){return e.contact})},r.filterParticipants=function(e){return!!r.props.groupMetadata.participants.get(e.id)},r.isDisabled=function(e){var t=r.props.groupMetadata;return E.default.equals(e,t.owner)||i.default.me.equals(e)},r.openManageAdminModal=function(){l.default.openModal(o.createElement(w.default,{onChat:r.updateAdmins,getInitialItems:r.getCurrentAdmins,isDisabled:r.isDisabled,isSelected:r.isDisabled,filter:r.filterParticipants,title:m.default.t(644),useShortName:!0,useAllContacts:!0,listType:P.ListType.PARTICIPANT_MANAGE_MODAL}))},r.updateAdmins=function(e){var t=r.props,n=t.chat,o=t.groupMetadata.participants,i=o.filter(function(e){return e.isAdmin}),c=(0,a.default)(e,i,"id").map(function(e){return o.assertGet(e.id)}),u=(0,a.default)(i,e,"id");c.length>0&&(c.forEach(function(e){e.contact.pendingAction++}),(0,k.promoteParticipants)(n,c).finally(function(){c.forEach(function(e){e.contact.pendingAction--})})),u.length>0&&(u.forEach(function(e){e.contact.pendingAction++}),(0,k.demoteParticipants)(n,u).finally(function(){u.forEach(function(e){e.contact.pendingAction--})})),l.default.closeModal()},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.groupMetadata,t=void 0,n=void 0,a=void 0,r=void 0,i=void 0;return v.default.restrictGroups&&(n=o.createElement(R,{onClick:this.openRestrictedSettingModal,isRestricted:e.restrict})),v.default.announceGroups&&(a=o.createElement(A,{onClick:this.openAnnouncementSettingModal,isAnnouncement:e.announce})),(n||a)&&(t=o.createElement(O.default,null,n,a)),v.default.frequentlyForwardedGroupSetting&&p.default.supportsFeature(p.default.F.FREQUENTLY_FORWARDED_SETTING)&&(r=o.createElement(O.default,null,o.createElement(I,{onClick:this.openNoFrequentlyForwardedSettingModal,isNoFrequentlyForwarded:e.noFrequentlyForwarded}))),v.default.restrictGroups&&(i=o.createElement(O.default,null,o.createElement(M.default,{onClick:this.openManageAdminModal,multiline:!0},o.createElement("div",{className:C.default.header},o.createElement(b.default,{theme:"title"},m.default.t(644)))))),o.createElement(u.default,null,o.createElement(f.default,{title:m.default.t(515),type:s.DRAWER_HEADER_TYPE.SMALL,onBack:this.props.onClose}),o.createElement(d.default,null,t,r,i))}}]),t}();L.contextTypes={uim:g.default.instanceOf(h.default)},L.CONCERNS={chat:["id"],groupMetadata:["restrict","announce","noFrequentlyForwarded","participants","owner"]},L.displayName="GroupAdminSetting",t.default=(0,y.default)((0,j.default)((0,_.hoc)(L),L.CONCERNS))},dcdageegba:function(e,t,n){"use strict";var a=b(n("cehcfaibji")),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("ccihhdchab"),c=b(n("djcchigfih")),l=n("dajffajabh"),u=b(l),s=b(n("djbhiedbef")),f=b(n("bfajcggcdf")),d=b(n("dbdidgdgai")),p=b(n("dceicchccd")),h=b(n("didfdhbecg")),m=b(n("djbhhciahi"));function b(e){return e&&e.__esModule?e:{default:e}}var g=n("cbdbejjhjd"),v=n("bhghbagiah"),E=n("caffijjhc"),y=n("fffdgbfji"),j=n("ccaaiecfib"),_=n("ceffhbhahb"),C={MEDIA:"media",DOCS:"docs",LINKS:"links"},M=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onSelectMessages=function(){e.state.selectable||e.setState({selectable:!0})},e.onCancelSelection=function(){e.state.selectable&&(e.selectedMessages.unsetAll(),e.setState({selectable:!1}))},e.onMessageSelect=function(t,n){e.onSelectMessages(),e.selectedMessages.setVal(t,n),0===e.selectedMessages.getSelected().length&&e.onCancelSelection()},e.selectedMessages=new p.default([],function(e){return e.id.toString()}),e.state={selected:C.MEDIA,direction:null,selectable:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"onSelectTab",value:function(e){var t=(0,a.default)(C).indexOf(this.state.selected),n=(0,a.default)(C).indexOf(e);t!==n&&this.selectedMessages.unsetAll();var r=n>t?"right":"left";this.setState({selected:e,direction:r,selectable:!1})}},{key:"getTabs",value:function(){var e=this;if(!j.supportsFeature(j.F.LINK_DOC_GALLERY))return null;var t=[{tab:C.MEDIA,title:y.t(647)},{tab:C.DOCS,title:y.t(382)},{tab:C.LINKS,title:y.t(590)}].map(function(t){var n=_(m.default.menuItem,{[m.default.active]:e.state.selected===t.tab});return o.createElement("button",{className:n,onClick:e.onSelectTab.bind(e,t.tab),key:t.tab,title:t.title},t.title)});return o.createElement("div",{className:m.default.menuTabsLists,"data-active-tab":this.state.selected},t)}},{key:"getContent",value:function(){var e=this.props.chat;if(!j.supportsFeature(j.F.LINK_DOC_GALLERY))return o.createElement(f.default,{chat:e,mediaMsgs:e.getMediaMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages,fullCollection:!0});var t=void 0;switch(this.state.selected){case C.MEDIA:t=o.createElement(f.default,{chat:e,mediaMsgs:e.getMediaMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages,fullCollection:!0});break;case C.LINKS:t=o.createElement(g,{chat:e,linkMsgs:e.getLinkMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages});break;case C.DOCS:t=o.createElement(v,{chat:e,docMsgs:e.getDocMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages})}return t}},{key:"render",value:function(){var e=this.props.chat,t=this.getTabs(),n=this.getContent(),a=this.state.selectable?o.createElement(E,{displayName:"MediaMultiSelect",escapable:!0,requestDismiss:this.onCancelSelection},o.createElement(d.default,{chat:e,disableRevoke:!0,noSortOnForward:!0,theme:"mediaGallery",toastPosition:i.ToastPosition.RIGHT,downloadButton:this.state.selected!==C.LINKS,selectedMessages:this.selectedMessages,onCancel:this.onCancelSelection})):null,r="right"===this.state.direction?"slide-forward":"slide-back",f=j.supportsFeature(j.F.LINK_DOC_GALLERY)?" ":y.t(647);return o.createElement(c.default,{theme:"gallery"},o.createElement(u.default,{title:f,onBack:this.props.onBack,type:l.DRAWER_HEADER_TYPE.MULTI_MEDIA_GALLERY}),a,t,o.createElement(s.default,{"data-list-scroll-container":!0},o.createElement(h.default,{transitionName:r,className:m.default.column},o.createElement("div",{className:m.default.multimediaGallery,key:this.state.selected},o.createElement("div",{className:m.default.column},n)))))}}]),t}();M.displayName="MediaGalleryDrawer",e.exports=M},deaaffdfff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=j(n("ceffhbhahb")),i=j(n("cehjjfagii")),c=j(n("eadfaddcj")),l=j(n("eceadcicaf")),u=j(n("ihfccfgdf")),s=n("ejbdjaifi"),f=j(n("cfhehaefih")),d=j(n("fifhbjiec")),p=j(n("didfdhbecg")),h=j(n("fffdgbfji")),m=n("caceaafdic"),b=j(n("dheeebbech")),g=n("gaifbabbj"),v=j(n("dbfbdfhfee")),E=j(n("dgdadejebh")),y=j(n("bjjbghfcbd"));function j(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.mouseOver=function(){n.state.hover||n.setState({hover:!0})},n.mouseEnter=function(){n.state.hover||n.setState({hover:!0})},n.mouseLeave=function(){n.state.hover&&n.setState({hover:!1})},n.onSelectChange=function(e){n.state.selected!==e&&n.setState({selected:e})},n.onSelectClick=function(e){e&&e.stopPropagation(),n.props.onMessageSelect(n.props.msg,!n.state.selected)},n.onClick=function(){n.props.onClickMsg(n.props.msg,!n.state.selected)};var a=e.msg,r=e.selectedMessages;return n.state={hover:!1,selected:r.isSelected(a)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.selectedMessages,this.props.msg.id.toString(),this.onSelectChange)}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.link,a=e.displayAuthor,l=this.props.selectable||this.state.hover?r.createElement(v.default,{checked:this.state.selected,onClick:this.onSelectClick,theme:"gallery"}):null,u=(t.isTrusted()?g.Configuration.TrustedConversation:g.Configuration.UntrustedConversation)({mentions:t.mentionMap(),links:t.getLinks(),selectable:!0}),s=t.body&&t.body.includes(n.url)?t.body:t.caption,j=a?r.createElement("div",{className:y.default.author},r.createElement(i.default,{msg:t,contact:t.senderObj})):null,_=t.getSuspiciousLinks().length>0;return r.createElement(b.default,{hover:this.state.hover,onClick:this.onClick,onMouseEnter:this.state.hover?null:this.mouseEnter,onMouseOver:this.state.hover?null:this.mouseOver,onMouseLeave:this.state.hover?this.mouseLeave:null},r.createElement("div",{className:y.default.msg},r.createElement(p.default,{transitionName:"delay-leave"},l),r.createElement(m.MessageContainer,{isSentByMe:t.isSentByMe},r.createElement("div",{className:(0,o.default)(y.default.bubble,{[y.default.hasAuthor]:a,[y.default.hasSuspiciousLinks]:_})},j,r.createElement(E.default,{link:n,displayType:c.default.DISP_TYPE.GALLERY}),r.createElement(f.default,{title:n.url,isSentByMe:t.isSentByMe,canonicalUrl:n.domain,displayType:c.default.DISP_TYPE.GALLERY,star:t.star}),r.createElement(d.default,{text:s,selectable:!0,className:y.default.text,dirMismatch:t.rtl!==h.default.isRTL(),direction:t.dir,formatters:u})))))}}]),t}();_.CONCERNS={msg:["body","id","isSentByMe","star","rtl","dir","senderObj"]},_.displayName="LinkMsg",t.default=(0,l.default)((0,u.default)((0,s.hoc)(_),_.CONCERNS))},dgihdjihd:function(e,t){e.exports={muted:"_1Zrf-",docGallery:"_1NuWB",spinner:"_2wsUd"}},dgjggjiggi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("ejbdjaifi"),i=m(n("gbfffciea")),c=m(n("biddiiafgd")),l=m(n("eadfaddcj")),u=m(n("fifhbjiec")),s=m(n("ccaaiecfib")),f=n("bidfjbaebi"),d=m(n("fffdgbfji")),p=m(n("ihfccfgdf")),h=n("facgccaif");function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return n=a=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onConfirm=function(){i.default.closeModal()},a.onLearnMore=function(e){e.preventDefault(),i.default.closeModal("none"),setTimeout(function(){return(0,f.openExternalLink)((0,h.getBusinessFaqUrl)())},10)},a.getMessage=function(){var e=a.props.contact;switch(e.verifiedLevel){case l.default.VERIFIED_LEVEL.HIGH:return d.default.t(1297);case l.default.VERIFIED_LEVEL.LOW:return d.default.t(1299);case l.default.VERIFIED_LEVEL.UNKNOWN:return d.default.t(1301,{businessName:e.formattedName})}},a.getMessageV2=function(){var e=a.props.contact;switch(e.verifiedLevel){case l.default.VERIFIED_LEVEL.HIGH:return e.name===e.verifiedName?d.default.t(1096,{businessName:e.verifiedName}):d.default.t(1097,{businessName:e.verifiedName});case l.default.VERIFIED_LEVEL.LOW:case l.default.VERIFIED_LEVEL.UNKNOWN:return d.default.t(1098)}},b(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.PureComponent),a(t,[{key:"render",value:function(){var e=void 0;e=s.default.supportsFeature(s.default.F.VNAME_V_2)?this.getMessageV2():this.getMessage();var t=r.createElement("a",{target:"_blank",href:"#",onClick:this.onLearnMore},d.default.t(588));return r.createElement(c.default,{onOK:this.onConfirm,okText:d.default.t(825)},r.createElement(u.default,{text:e})," ",t)}}]),t}();g.CONCERNS={contact:["name","verifiedLevel","verifiedName","formattedName"]},g.displayName="BusinessInfoModal",t.default=(0,p.default)((0,o.hoc)(g),g.CONCERNS)},dhdhbgbhed:function(e,t){e.exports={muted:"_3VBkQ",body:"_3xdMj",avatar:"_2XJ_f",description:"p1-qj",nameSecondary:"_1dDzK"}},djbhhciahi:function(e,t){e.exports={muted:"UUbo4",multimediaGallery:"ca1V1",column:"_3JYvu",menuItem:"Y1iVg",active:"_3caqI",menuTabsLists:"_27U_m"}},djibddbgic:function(e,t){e.exports={muted:"eMUdD",close:"_8icek",profileThumb:"btMYD",profileContainer:"_19YfI",media:"_11UqX",profileViewer:"_3SCfu",profileViewerImg:"_2p8um",container:"_1iNsf","media-viewer-animate":"_2pKlK",mediaViewerAnimate:"_2pKlK",headerContainer:"s4BtI"}},ebdahjichh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("fijafegab")),i=m(n("eceadcicaf")),c=m(n("cdcijfdgje")),l=m(n("bhifaggjcb")),u=m(n("ihfccfgdf")),s=m(n("bfdcadbbif")),f=m(n("eedjbihej")),d=n("ejbdjaifi"),p=n("cicjibbhdb"),h=n("bheafeifce");function m(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateParticipants=function(){n.setState({participants:n.getParticipants(n.props.chat)})},n.state={participants:n.getParticipants(e.chat)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat;t.liveLocationQueried||c.default.getActive(t.id.toString()).then(function(){t.liveLocationQueried=!0}).catch(function(){}),this.props.listeners.add((0,h.unproxy)(t),"change:liveLocation",function(){var n=t.liveLocation;n&&(e.removeParticipantListener(n),e.addParticipantListener(n),e.updateParticipants())});var n=t.liveLocation;n&&this.addParticipantListener(n)}},{key:"addParticipantListener",value:function(e){this.props.listeners.add(e.participants,"add remove",this.updateParticipants)}},{key:"removeParticipantListener",value:function(e){this.props.listeners.remove(e.participants,"add remove",this.updateParticipants)}},{key:"getParticipants",value:function(e){var t=e.liveLocation;return t?t.participants.toArray():[]}},{key:"getText",value:function(){var e=this.props.chat,t=this.state.participants,n=void 0,a=void 0,r=0;if(t.forEach(function(e){e.isMe?n=!0:(a||(a=e.contact),r++)}),e.isGroup)return n?1===t.length?l10n.t(616):l10n.t(615,{count:r,_plural:r}):l10n.t(612,{count:r,_plural:r});if(n){if(1===t.length)return l10n.t(616);if(a)return l10n.t(614,{name:a.formattedShortNameWithNonBreakingSpaces})}else if(a)return l10n.t(611,{name:a.formattedShortNameWithNonBreakingSpaces});return""}},{key:"render",value:function(){var e=this.props.onClick;if(!this.state.participants.length)return null;var t=r.createElement(s.default,{name:(0,p.liveLocationIcon)(!0)});return r.createElement(o.default,{a8nText:"section-live-location",theme:"padding",title:l10n.t(619),titleOnClick:e},r.createElement(l.default,{side:t,onClick:e},r.createElement(f.default,{theme:"title"},this.getText())))}}]),t}();b.CONCERNS={chat:["id","isGroup","liveLocation","liveLocationQueried"]},b.displayName="LiveLocationRow",t.default=(0,i.default)((0,u.default)((0,d.hoc)(b),b.CONCERNS))},ebfgabegga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=y(n("ceffhbhahb")),i=y(n("bcifhbgija")),c=y(n("cajbifjffe")),l=y(n("dhhfaeacef")),u=y(n("fifhbjiec")),s=n("dgfecega"),f=y(s),d=y(n("gbfffciea")),p=y(n("caffijjhc")),h=y(n("ihfccfgdf")),m=n("ejbdjaifi"),b=y(n("fffdgbfji")),g=y(n("bfdcadbbif")),v=y(n("dhbceejbjg")),E=y(n("djibddbgic"));function y(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=500,C=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return n=a=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={style:{visibility:"hidden"}},a.onScroll=function(e){Math.abs(e.deltaY)>3&&a.onClose()},a.onClose=function(){if(!a.closing){a.closing=!0;var e=void 0;if(a.props.getZoomNode(function(t){e=t}),!e)return d.default.closeModalMedia();var t=a.refImage;if(t){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=r.top-n.top,c=r.left-n.left,l=e.clientWidth/t.clientWidth;(0,i.default)(t,{translateX:[c,0],translateY:[o,0],scale:[l,1]},{duration:200,easing:[.1,.82,.25,1]}).then(function(){d.default.closeModalMedia()})}}},a.onImageLoad=function(e){var t=e.target;a.setState({size:{width:t.naturalWidth,height:t.naturalHeight}},function(){a.props.getZoomNode(function(e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=r.top-n.top,i={visibility:"hidden",transform:`translateX(${r.left-n.left}px) translateY(${o}px) scale(${e.clientWidth/t.clientWidth})`,transition:"transform 0s",borderRadius:void 0};a.props.animateBorderRadius&&(i.borderRadius="50%"),a.setState({style:i},function(){var e={transform:"translateX(0px) translateY(0px) scale(1)",transition:`transform ${_}ms cubic-bezier(.1,.82,.25,1)`};a.props.animateBorderRadius&&(e={transform:"translateX(0px) translateY(0px) scale(1)",borderRadius:"0%",transition:`transform ${_}ms cubic-bezier(.1,.82,.25,1),\n                                         border-radius ${_}ms cubic-bezier(.1,.82,.25,1)`}),a.setState({style:e})})})})},a.setRefImage=function(e){a.refImage=e},j(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return!!e.profilePicThumb.imgFull||(this.onClose(),!1)}},{key:"render",value:function(){var e=this.props,t=e.contact,n=e.profilePicThumb,a=void 0;return n.imgFull&&(a=r.createElement(c.default,{src:n.imgFull,hasPrivacyChecks:!0,onLoad:this.onImageLoad,className:E.default.profileViewerImg})),r.createElement(p.default,{displayName:"PhotoViewer",escapable:!0,requestDismiss:this.onClose},r.createElement("div",{className:(0,o.default)("overlay",E.default.container),onWheel:this.onScroll,onClick:this.onClose},r.createElement("div",{className:E.default.headerContainer},r.createElement("div",{className:E.default.profileThumb},r.createElement(v.default,{image:r.createElement(l.default,{id:t.id,size:40}),theme:"plain",primary:r.createElement(u.default,{text:t.formattedUser})})),r.createElement("div",{className:E.default.close},r.createElement(g.default,{name:"x-viewer",title:b.default.t(1106),onClick:this.onClose}))),r.createElement("div",{className:E.default.profileContainer,dir:"ltr"},r.createElement("div",{className:E.default.media},r.createElement(f.default,{type:s.FIT_TYPE.SCALE_DOWN,size:this.state.size},r.createElement("div",{className:E.default.profileViewer,"data-animate-profile-viewer":!0,ref:this.setRefImage,style:this.state.style},a))))))}}]),t}();C.CONCERNS={contact:["formattedUser","id"],profilePicThumb:["imgFull"]},C.displayName="PhotoViewerModal",t.default=(0,h.default)((0,m.hoc)(C),C.CONCERNS)},ejfeeeaeg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=$(n("bgfcjjddjf")),i=$(n("bbhjjecbjb")),c=$(n("ejegihaeh")),l=$(n("djbgihfhif")),u=$(n("dbdfbgehgj")),s=$(n("gbfffciea")),f=$(n("ceeafeafie")),d=$(n("biddiiafgd")),p=$(n("dhhfaeacef")),h=$(n("djcchigfih")),m=$(n("gejdcbjjd")),b=$(n("djbhiedbef")),g=$(n("cabhjigfgc")),v=n("dajffajabh"),E=$(v),y=$(n("fijafegab")),j=$(n("fifhbjiec")),_=$(n("bggeiidigb")),C=$(n("ccaaiecfib")),M=$(n("djhbegbdaf")),O=$(n("eceadcicaf")),S=$(n("ebdahjichh")),P=$(n("bfajcggcdf")),w=$(n("bfbggcdbfb")),k=$(n("bfffgbbdch")),N=$(n("bhheahajjg")),T=$(n("ebfgabegga")),R=$(n("deabffecii")),A=$(n("bjbedjfe")),I=$(n("bfejacaeaj")),L=$(n("dadhidfcfe")),D=$(n("ihfccfgdf")),x=$(n("bfhjgejice")),G=$(n("bfdcadbbif")),F=$(n("eedjbihej")),B=$(n("dcjdgceiej")),U=$(n("cjcaccbiih")),W=$(n("djbfhebjhe")),V=n("dfdebdgdei"),H=n("ejbdjaifi"),Y=n("dfhgeaeig"),q=n("eagfdbhhhh"),K=n("dcbafbaejf"),X=$(n("ibeajfihb")),z=$(n("cigbgdjabj"));function $(e){return e&&e.__esModule?e:{default:e}}var Q=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.flatListController=new _.default,n.ProductCatalogSession=new R.default,n._init=function(){C.default.supportsFeature(C.default.F.QUERY_IDENTITY)&&(0,Y.queryIdentity)(n.props.contact)},n.onBlocklistChange=function(){n.state.contactIsBlocked!==!!o.default.get(n.props.contact.id)&&n.setState({contactIsBlocked:!!o.default.get(n.props.contact.id)})},n.onDeleteChat=function(){var e=u.default.assertGet(n.props.contact.id);s.default.deleteOrExitChat(e)},n.onBlockContact=function(){var e=r.createElement(N.default,{contact:n.props.contact});s.default.openModal(r.createElement(d.default,{onOK:n.blockContact,okText:l10n.t(211),onCancel:function(){return s.default.closeModal()},cancelText:l10n.t(1101)},r.createElement(M.default,{id:213,params:{contact:e}})))},n.onReportSpam=function(){s.default.openModal(r.createElement(L.default,{isBusiness:n.props.contact.isBusiness,isGroupChat:!1,onReport:n.reportSpam,onReportBlockClear:n.reportSpamBlockClear,onCancel:function(){return s.default.closeModal()}}))},n.reportSpam=function(){var e=u.default.get(n.props.contact.id);e&&(0,K.sendSpamReport)(e),s.default.closeModal()},n.reportSpamBlockClear=function(){var e=u.default.get(n.props.contact.id);e&&(0,K.sendSpamBlockClear)(e),s.default.closeModal()},n.onUnblockContact=function(){var e=r.createElement(N.default,{contact:n.props.contact});s.default.openModal(r.createElement(d.default,{okText:l10n.t(1026),onOK:n.unblockContact,cancelText:l10n.t(1101),onCancel:function(){return s.default.closeModal()}},r.createElement(M.default,{id:1027,params:{contact:e}})))},n.blockContact=function(){(0,V.blockContact)(n.props.contact),s.default.closeModal()},n.unblockContact=function(){(0,V.unblockContact)(n.props.contact),s.default.closeModal()},n.onClose=function(){n.props.onClose?n.props.onClose():n.context.uim.uie.requestDismiss()},n.onViewPicture=function(e){if(n.canViewPicture){var t=e.target;s.default.openModalMedia(r.createElement(T.default,{contact:n.props.contact,profilePicThumb:n.props.contact.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:function(e){e(t)}}),{transition:"profile-viewer",uim:n.context.uim})}},n.onDetailImageLoad=function(){n.canViewPicture=!0},n.canViewPicture=!1,n.state={contactIsBlocked:!!o.default.get(e.contact.id)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(o.default,"add remove reset sync",this.onBlocklistChange),this.props.listeners.uiIdle(this._init);var e=this.props.contact;e.businessProfile&&!e.businessProfile.stale&&C.default.supportsFeature(C.default.F.CATALOG)&&e.businessCatalog&&c.default.findCarouselCatalog(e.id)}},{key:"shouldRenderCatalog",value:function(){var e=this.props.contact;return!!(e&&e.isBusiness&&e.businessProfile)&&(!(!e.businessProfile.catalogStatus||!e.businessCatalog)&&C.default.supportsFeature(C.default.F.CATALOG))}},{key:"renderProductCatalogSection",value:function(){if(!this.shouldRenderCatalog())return null;var e=this.props,t=e.contact,n=e.onProductCatalog,a=e.onProductDetail,o=c.default.get(t.id);return o?r.createElement(l.default,{onProductDetail:a,onProductCatalog:n,catalog:o,sessionId:this.ProductCatalogSession.toString(),entryPoint:w.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE}):null}},{key:"render",value:function(){var e=this.props.contact,t=void 0,n=r.createElement(f.default,{contact:this.props.contact,onClose:this.onClose,flatListController:this.flatListController}),a=u.default.get(e.id);a&&(t=r.createElement(y.default,null,r.createElement(g.default,{a8nText:"li-delete-chat",icon:r.createElement(G.default,{name:"delete-danger"}),color:"danger",onClick:this.onDeleteChat},l10n.t(359))));var o=null;o=this.state.contactIsBlocked?r.createElement(y.default,null,r.createElement(g.default,{a8nText:"li-unblock",color:"success",icon:r.createElement(G.default,{name:"settings-blocked-success",directional:!0}),onClick:this.onUnblockContact},l10n.t(1026))):r.createElement(y.default,null,r.createElement(g.default,{a8nText:"li-block",icon:r.createElement(G.default,{name:"settings-blocked",directional:!0}),onClick:this.onBlockContact},l10n.t(211)));var c=r.createElement(y.default,null,r.createElement(g.default,{a8nText:"li-report-spam",color:"danger",icon:r.createElement(G.default,{name:"thumbs-down",directional:!0}),onClick:this.onReportSpam},e.isBusiness?l10n.t(889):l10n.t(892))),l=null;if(this.props.onMediaGallery&&a){var s=this.props.onMediaGallery,d=r.createElement(G.default,{name:"chevron-right-alt",directional:!0}),_=C.default.supportsFeature(C.default.F.LINK_DOC_GALLERY)?l10n.t(652):l10n.t(647);l=r.createElement(y.default,{a8nText:"section-media",title:_,titleOnClick:s,subtitle:d,theme:"padding"},r.createElement(P.default,{chat:a,mediaMsgs:a.getMediaMsgs()}))}var M=null;C.default.supportsFeature(C.default.F.LIVE_LOCATIONS)&&a&&(M=r.createElement(S.default,{chat:a,onClick:this.props.onLiveLocation}));var O=this.renderProductCatalogSection(),w=a&&a.mute.canMute()?r.createElement(k.default,{chat:a,mute:a.mute}):null,T=null;if(this.props.onStarred){var R=r.createElement(G.default,{name:"chevron-right-alt",directional:!0});T=r.createElement(m.default,{a8nText:"block-starred-messages",side:R,onClick:this.props.onStarred,border:!0},r.createElement(F.default,{theme:"title"},l10n.t(291)))}var A=null,I=a&&a.getReceivedVCardMsgs();if(C.default.supportsFeature(C.default.F.INDEX_RECEIVED_VCARD)&&I&&I.length){var L=r.createElement(G.default,{name:"chevron-right-alt",directional:!0});A=r.createElement(m.default,{a8nText:"block-contact-card",side:L,onClick:this.props.onContactCard},r.createElement(F.default,{theme:"title"},l10n.t(340,{_plural:I.length})))}var D=null;(w||T||A)&&(D=r.createElement(y.default,null,w,T,A,null));var B=r.createElement(m.default,{multiline:!0},r.createElement(F.default,{theme:"title"},r.createElement(X.default,{id:e.id}))),V=r.createElement(m.default,null,r.createElement(q.SelectableSpan,{dir:"auto",selectable:!0},r.createElement(F.default,{theme:"title"},(0,W.default)(e.id)))),H=r.createElement(y.default,{a8nText:"section-about-and-phone-number"},r.createElement("div",{className:x.default.titleAbout},r.createElement(F.default,{theme:"section-title"},l10n.t(342))),B,V),Y=a&&a.presence?r.createElement(U.default,{contact:e,presence:a.presence,chatstate:a.presence.chatstate,location:"info"}):null,K=e.showBusinessVname&&C.default.supportsFeature(C.default.F.VNAME_V_2)?r.createElement("div",{className:x.default.businessVname},r.createElement(j.default,{text:e.verifiedName,direction:"auto"}),r.createElement("div",{className:x.default.icon},r.createElement(G.default,{name:"psa-verified"}))):null,$=e.isBusiness&&e.businessProfile?r.createElement(i.default,{contact:e,businessProfile:e.businessProfile}):null,Q=!e.name&&e.notifyName?r.createElement("div",{className:x.default.nameSecondary},r.createElement(F.default,{theme:"muted"},r.createElement(j.default,{className:x.default.screenName,direction:"auto",text:e.notifyName}))):null;return r.createElement(h.default,{key:"contact-info-modal"},r.createElement(E.default,{title:l10n.t(1107),type:v.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),r.createElement(b.default,{flatListControllers:[this.flatListController]},r.createElement("div",{className:x.default.body},r.createElement(y.default,{theme:"padding-large"},r.createElement("div",{className:x.default.avatar},r.createElement(p.default,{id:e.id,size:p.default.Size.LARGE,loader:!0,onLoad:this.onDetailImageLoad,onClick:this.onViewPicture,quality:p.default.Quality.HIGH})),r.createElement(F.default,{theme:"large"},r.createElement(N.default,{contact:e,selectable:!0,showBusinessCheckmark:!0})),Q,r.createElement("div",{className:x.default.nameSecondary},r.createElement(F.default,{theme:"muted"},K),r.createElement(F.default,{theme:"muted"},Y)),r.createElement(z.default,{labels:e.labels})),$,M,O,l,D,H,null,n,o,c,t)))}}]),t}();Q.contextTypes={uim:I.default.instanceOf(B.default)},Q.CONCERNS={contact:["id","formattedName","formattedUser","formattedShortName","isBusiness","commonGroups","businessProfile","showBusinessVname","verifiedName","name","notifyName","labels","businessCatalog"]},Q.displayName="ContactInfoDrawer",t.default=(0,A.default)((0,O.default)((0,D.default)((0,H.hoc)(Q),Q.CONCERNS)))},fbcdaahdd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("ihfccfgdf")),i=n("ejbdjaifi"),c=l(n("hdccjfbbg"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.contextEnabled=function(){var e=a.props,t=e.contextEnabled,n=e.contact;return t&&t(n)},a.onContext=function(e){var t=a.props,n=t.onContext,r=t.contact;return n&&n(e,r)},u(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=e.participant,a=e.onClick,o=e.contextMenu,i=e.isPendingParticipant;return r.createElement(c.default,{contact:t,admin:n.isAdmin,onClick:a,theme:"drawer-list",contextEnabled:this.contextEnabled,contextMenu:o,onContext:this.onContext,isPendingParticipant:i,showNotifyName:!0,waitIdle:!0})}}]),t}();s.CONCERNS={participant:["isAdmin"]},s.displayName="Participant",t.default=(0,o.default)((0,i.hoc)(s),s.CONCERNS)},gecdhggfj:function(e,t){e.exports={muted:"_1r2Wd",header:"sw9Gc"}},gejdcbjjd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),r=c(n("ceffhbhahb")),o=c(n("effbcehec")),i=c(n("igfejfjdb"));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.side?a.createElement("div",{className:i.default.side},e.side):null,n=(0,r.default)(i.default.container,{[i.default.multiline]:e.multiline});return a.createElement("div",{"data-a8n":o.default.key(e.a8nText),className:n,role:e.onClick?"button":null,onClick:e.onClick},a.createElement("div",{className:i.default.block},a.createElement("div",{className:i.default.main},e.children),t))}l.displayName="DrawerBlock"},hjbhabfd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupDesc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,r.genId)();var d=n&&n.trim();if(d===t.groupMetadata.desc)return Promise.reject(new c.ActionError);""===d&&(d=null);var p=(0,u.sendSetGroupDescription)(t.id,d,(0,s.default)(),t.groupMetadata.descId);var h=t.groupMetadata.desc;var m=new r.ActionType(l10n.t(59));var b=p.then(function(n){return new r.ActionType(l10n.t(61),l10n.t(156),function(){return e(t,h,f)})}).catch(i.ServerStatusCodeError,function(e){if(e.status>=400)return new r.ActionType(l10n.t(60))}).catch(function(n){return l.default.error("models:chat:setGroupDesc dropped")(n),new r.ActionType(l10n.t(60),l10n.t(152),function(){return e(t,d,f)})});o.default.openToast(a.createElement(r.ActionToast,{id:f,initialAction:m,pendingAction:b}));return p.then(function(e){e._duplicate||t.groupMetadata.set({desc:d||""})}).catch(i.ServerStatusCodeError,function(e){})}((0,f.unproxy)(e),t)};var a=p(n("ddhijeejag")),r=n("ccihhdchab"),o=d(n("gbfffciea")),i=n("ddjgcfjicj"),c=p(n("cajijabhgb")),l=d(n("bdiiahhjbe")),u=n("babicefcfg"),s=d(n("cfejjfjhca")),f=n("bheafeifce");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},igfejfjdb:function(e,t){e.exports={muted:"_2qjll",container:"_3_-Si",block:"_2x2XP",main:"_2kUhl",side:"_88RDg",multiline:"_2sl9a"}},jejjchagi:function(e,t,n){var a=n("bidegfiddi"),r=n("bdjiefffig"),o=n("eacgdgihde"),i=n("bejfjdjeig"),c=n("bhfidgedig"),l=n("bfeeicacah"),u=i(function(e,t){var n=l(t);return c(n)&&(n=void 0),c(e)?a(e,r(t,1,c,!0),o(n,2)):[]});e.exports=u},jfaihhdjc:function(e,t){e.exports={muted:"_3bMRb",spinner:"DEUYy",wrapper:"_1cExZ"}},jgjiiajej:function(e,t){e.exports={muted:"_9YaRM",contactBusinessInfo:"p33C-",contactBusinessInfoSpinner:"_36fM-",dataRow:"_3vFc6",businessHoursRow:"_3kv2_",businessHoursDay:"_6P5Pb",businessHoursHours:"_34Da3",businessHoursChevron:"_3p_LK",flipSvg:"_27mxm",dataRowIcon:"_1ZiXJ",dataRowText:"_4Hlm9",businessTitleText:"_3EgZq",businessMarker:"_2qzPO",verifiedLabel:"_2eJ_X",businessMap:"_1gqk2",address:"_1zJF4",link:"_2Kszz"}}});